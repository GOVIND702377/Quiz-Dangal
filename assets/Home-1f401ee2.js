import{u as v,a as b,s as z,j as e,S as j}from"./index-7edaff54.js";import{r as u}from"./react-63c462fe.js";import{S as N}from"./SEO-95b9e13c.js";import{a as _}from"./router-10fed1f4.js";import{b as S,B as k,T as Q,c as D}from"./icons-590232b1.js";import"./supabase-07ebd5d8.js";const E=[{title:"Opinion",slug:"opinion",icon:S},{title:"G.K Knowledge",slug:"gk",icon:k},{title:"Sports",slug:"sports",icon:Q},{title:"Movies",slug:"movies",icon:D}],q=[{question:"What is Quiz Dangal?",answer:"Quiz Dangal is India's daily quiz arena where you play opinion and knowledge rounds, earn coins, and climb leaderboards with friends."},{question:"How can new pages get indexed quickly?",answer:"Submit https://quizdangal.com/sitemap.xml in Google Search Console, request indexing for key URLs, and keep internal links pointing to every new landing page."},{question:"Does Quiz Dangal support the Google Play-style “Play & Win” format?",answer:"Yes. Our Play & Win quizzes run daily with live leaderboards, transparent scoring, and instant rewards for top performers."}],I={"@context":"https://schema.org","@type":"FAQPage",mainEntity:q.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))},C=[{"@context":"https://schema.org","@type":"Organization",name:"Quiz Dangal",alternateName:["QuizDangal","Quiz Dangal","QuizDangl"],url:"https://quizdangal.com/",logo:"https://quizdangal.com/android-chrome-512x512.png",sameAs:["https://www.instagram.com/quizdangal","https://www.facebook.com/profile.php?id=61576614092243","https://x.com/quizdangal"],contactPoint:[{"@type":"ContactPoint",contactType:"customer support",email:"support@quizdangal.com",availableLanguage:["Hindi","English"]}]},{"@context":"https://schema.org","@type":"WebSite",name:"Quiz Dangal",url:"https://quizdangal.com/",potentialAction:{"@type":"SearchAction",target:"https://quizdangal.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},{"@context":"https://schema.org","@type":"WebApplication",name:"Quiz Dangal",url:"https://quizdangal.com/",applicationCategory:"Game",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR"}},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Play & Win Quiz App",url:"https://quizdangal.com/play-win-quiz-app/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Opinion Quiz App",url:"https://quizdangal.com/opinion-quiz-app/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Leaderboards",url:"https://quizdangal.com/leaderboards/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Refer & Earn",url:"https://quizdangal.com/refer-earn-quiz-app/"},I],A=({tile:n,quizzes:p,index:g,navigateTo:f})=>{const c=Date.now();p.filter(s=>(s.category||"").toLowerCase()===n.slug.toLowerCase()).filter(s=>{const r=s.start_time?new Date(s.start_time).getTime():0,d=s.end_time?new Date(s.end_time).getTime():0,y=r&&d&&c>=r&&c<d,t=r&&c<r;return y||t}).sort((s,r)=>new Date(s.start_time||s.end_time||0)-new Date(r.start_time||r.end_time||0));const x=n.icon,h=["neon-orange","neon-purple","neon-teal","neon-pink"],m="PLAY",w=`${g*80}ms`;return e.jsx("button",{type:"button",onClick:()=>f(n.slug),className:`neon-card ${h[g%h.length]} group aspect-square w-full rounded-xl focus:outline-none transform-gpu transition-transform hover:scale-[1.02] hover:shadow-xl relative animate-fade-scale`,style:{borderRadius:"0.75rem","--fade-scale-delay":w},"aria-label":`${n.title} - Play`,children:e.jsx("div",{className:"neon-card-content select-none flex items-center justify-center",children:e.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:[e.jsx(x,{className:"w-8 h-8 text-white drop-shadow"}),e.jsx("h3",{className:"text-base font-extrabold leading-tight text-white text-shadow-sm text-center",children:n.title}),e.jsx("span",{className:"play-pill group-hover:shadow-lg group-hover:brightness-110",children:m})]})})})},R=()=>{const{toast:n}=v(),p=_(),{user:g}=b(),[f,c]=u.useState([]),[x,h]=u.useState(!0),[m,w]=u.useState({open:!1,day:0,coins:0}),[s,r]=u.useState(null),d=u.useCallback(async()=>{try{const{data:t,error:a}=await z.from("quizzes").select("id,title,category,start_time,end_time,status,prize_pool,prizes,prize_type").order("start_time",{ascending:!0});if(a)throw a;c(t||[])}catch(t){console.error(t),n({title:"Error",description:"Could not fetch quizzes.",variant:"destructive"}),c([])}finally{h(!1)}},[n]);u.useEffect(()=>{let t=!1,a=null,i=null,o=null;const l=async()=>{t||(await d(),!t&&(o=window.setInterval(d,6e4)))};return typeof window!="undefined"&&"requestIdleCallback"in window?a=window.requestIdleCallback(l,{timeout:1200}):i=window.setTimeout(l,120),()=>{t=!0,o&&clearInterval(o),i&&clearTimeout(i),a!==null&&typeof window!="undefined"&&"cancelIdleCallback"in window&&window.cancelIdleCallback(a)}},[d]);const y=async t=>{if(!(!t||s===t.id)){if(!g){n({title:"Login required",description:"Please sign in to join the quiz.",variant:"destructive"}),p("/login");return}r(t.id);try{const a=t.status==="upcoming"?"pre_join_quiz":"join_quiz",{data:i,error:o}=await z.rpc(a,{p_quiz_id:t.id});if(o)throw o;if(t.status==="upcoming")n({title:"Pre-joined!",description:"We will remind you 1 minute before start."});else{if(i&&i!=="Joined Successfully")throw new Error(i);n({title:"Joined!",description:"Redirecting you to the quiz."}),p(`/quiz/${t.id}`)}}catch(a){const i=String((a==null?void 0:a.message)||"").toLowerCase();let o=(a==null?void 0:a.message)||"Could not join quiz.",l="Error";i.includes("not authenticated")?(l="Login required",o="Please sign in to join the quiz."):i.includes("insufficient balance")?(l="Insufficient balance",o="You do not have enough coins to join this quiz."):i.includes("quiz not active")&&(l="Quiz not active",o="This quiz is not active right now."),n({title:l,description:o,variant:"destructive"})}finally{r(null)}}};return e.jsxs("div",{className:"h-full relative overflow-hidden",children:[e.jsx(N,{title:"Quiz Dangal – Play Quiz & Win Rewards | Opinion, GK, Sports, Movies",description:"Quiz Dangal is India’s play-and-win quiz arena. Take opinion and GK quizzes daily, grow streaks, invite friends, and redeem coins for rewards.",canonical:"https://quizdangal.com/",keywords:["Quiz Dangal","quizdangal","quiz app","play quiz and win","opinion quiz","daily quiz india","refer and earn quiz","win rewards","leaderboards","online quiz contest"],alternateLocales:["hi_IN","en_US"],jsonLd:C}),e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4 mt-1 sm:mt-2 mb-6",children:e.jsxs("div",{className:"w-full max-w-[420px]",children:[e.jsxs("div",{className:"text-center mb-4 animate-fade-up",style:{"--fade-delay":"60ms"},children:[e.jsx("span",{className:"inline-flex items-center justify-center px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.2em] text-indigo-200/80 bg-indigo-500/15 border border-indigo-400/30 rounded-full",children:"Quiz Dangal Official"}),e.jsx("h1",{className:"mt-2 text-2xl font-black tracking-tight text-white",children:"Play quizzes. Win rewards. Own the leaderboard."}),e.jsxs("p",{className:"text-[13px] text-slate-300/90 mt-2",children:["Quiz Dangal is India's daily quiz arena where ",e.jsx("strong",{className:"text-slate-100/90",children:"quizdangal"})," players compete in Opinion, GK, Sports, and Movies rounds to earn coins and bragging rights."]}),e.jsxs("ul",{className:"mt-3 text-[12px] text-slate-300/90 space-y-1 text-left",children:[e.jsx("li",{children:"• Transparent scoring with instant leaderboards"}),e.jsx("li",{children:"• Refer & earn bonuses when friends join your squad"}),e.jsx("li",{children:"• Daily streaks, reminders, and progressive rewards"})]}),e.jsx("div",{className:"mx-auto mt-2 h-[2px] w-24 rounded-full bg-gradient-to-r from-indigo-400/60 via-fuchsia-400/60 to-pink-400/60"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:x?Array.from({length:4}).map((t,a)=>e.jsx("div",{className:"aspect-square w-full rounded-xl bg-slate-800/60 border border-slate-700/60 animate-pulse"},a)):E.map((t,a)=>e.jsx(A,{tile:t,quizzes:f,onJoin:y,index:a,joiningId:s,navigateTo:i=>p(`/category/${i}/`)},t.slug))}),e.jsxs("div",{className:"mt-6 text-left bg-slate-900/60 border border-slate-700/60 rounded-xl p-4 space-y-3",children:[e.jsx("h2",{className:"text-sm font-semibold text-white tracking-wide uppercase",children:"Quiz Dangal FAQs"}),q.map(t=>e.jsxs("div",{children:[e.jsx("p",{className:"text-[13px] font-semibold text-indigo-200/90",children:t.question}),e.jsx("p",{className:"text-[12px] text-slate-300/85 mt-1",children:t.answer})]},t.question))]})]})}),e.jsx(j,{open:m.open,day:m.day,coins:m.coins,onClose:()=>w(t=>({...t,open:!1}))})]})};export{R as default};

import{s as l}from"./index-e0bf85cb.js";const d="avatars";async function g(a,c=3600,n=l){if(!n||!Array.isArray(a)||!a.length)return new Map;const e=new Map,s=a.filter(Boolean),f=s.filter(r=>r.includes("://"));for(const r of f)e.set(r,r);const o=Array.from(new Set(s.filter(r=>!r.includes("://"))));if(!o.length)return e;try{const{data:r,error:i}=await n.storage.from(d).createSignedUrls(o,c);if(i)return console.warn("Signed avatar URLs batch fetch failed:",i),e;for(const t of r||[])t!=null&&t.path&&e.set(t.path,t.signedUrl||"");return e}catch(r){return console.warn("Signed avatar URLs batch fetch failed:",r),new Map}}export{g};

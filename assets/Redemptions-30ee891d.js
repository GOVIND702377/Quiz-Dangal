import{c as x,b as u,r,j as e,L as m,s as p}from"./index-74c9f0b4.js";const h=x("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);function f(){const{user:s}=u(),[a,i]=r.useState([]),[l,d]=r.useState(!0);return r.useEffect(()=>{if(!s)return;let t=!0;async function n(){d(!0);const{data:o,error:y}=await p.from("redemptions").select("*").eq("user_id",s.id).order("requested_at",{ascending:!1});t&&(i(o||[]),d(!1))}n();const c=setInterval(n,15e3);return()=>{t=!1,clearInterval(c)}},[s]),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[e.jsx(h,{className:"mr-2"})," My Redemptions"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Track your reward requests"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-md border border-gray-200/50 rounded-2xl p-4 shadow-lg",children:l?e.jsxs("div",{className:"py-12 flex items-center justify-center text-gray-600",children:[e.jsx(m,{className:"h-8 w-8 animate-spin text-indigo-500 mr-2"})," Loading..."]}):a.length===0?e.jsx("div",{className:"py-12 text-center text-gray-600",children:"No redemptions yet"}):e.jsx("div",{className:"space-y-2",children:a.map(t=>e.jsxs("div",{className:"p-3 rounded-xl bg-white/70 border border-gray-200/50 flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.reward_type,": ",t.reward_value]}),e.jsxs("div",{className:"text-gray-500",children:["Coins: ",t.coins_required]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]},t.id))})})]})}export{f as default};

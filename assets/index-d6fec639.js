var Xo=Object.defineProperty;var Jo=(e,t,r)=>t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ee=(e,t,r)=>(Jo(e,typeof t!="symbol"?t+"":t,r),r);import{_ as k,c as ea}from"./supabase-4c1332f7.js";import{r as l,b as Ut,d as Vt,a as B,e as ta,R as Gr}from"./react-8a702e3e.js";import{u as Wt,a as ra,L as na,B as oa,R as Kr,b as N,N as ne}from"./router-f2cf3f51.js";import{X as Yr,A as aa,R as sa,H as ia,M as ca,T as la,W as ua,U as da,F as fa,S as ma,C as pa,a as ha,L as va,D as ga}from"./icons-52d1b41a.js";import{LazyMotion as ba}from"./motion-f69b6c08.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Qr={exports:{}},Xe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=l,xa=Symbol.for("react.element"),wa=Symbol.for("react.fragment"),Ea=Object.prototype.hasOwnProperty,Ta=ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sa={key:!0,ref:!0,__self:!0,__source:!0};function Zr(e,t,r){var n,o={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)Ea.call(t,n)&&!Sa.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:xa,type:e,key:a,ref:c,props:o,_owner:Ta.current}}Xe.Fragment=wa;Xe.jsx=Zr;Xe.jsxs=Zr;Qr.exports=Xe;var s=Qr.exports,_t={},cr=Ut;_t.createRoot=cr.createRoot,_t.hydrateRoot=cr.hydrateRoot;async function lr(){try{if(!{}.VITE_ENABLE_VITALS)return;const e=await k(()=>import("./web-vitals-a29eb300.js"),[]),t=r=>{console.info("[Vitals]",r.name,Math.round(r.value),r)};e.onCLS(t),e.onFID(t),e.onLCP(t),e.onINP&&e.onINP(t),e.onTTFB(t)}catch(e){}}const Ca="https://gcheopiqayyptfxowulv.supabase.co",Xr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdjaGVvcGlxYXl5cHRmeG93dWx2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NjE2MjMsImV4cCI6MjA2OTQzNzYyM30.mVI7HJOEOoMNMRdh6uonCub5G2ggfbGYtIti0x4aAAM",Ye=!!Xr,U=Ye?ea(Ca,Xr):null,Ee="qd_pending_referral_code",Jr=()=>typeof window!="undefined",qt=()=>{if(!Jr())return null;try{return window.sessionStorage}catch(e){return null}},Bt=()=>{if(!Jr())return null;try{return window.localStorage}catch(e){return null}};function ue(e){if(typeof e!="string")return"";const t=e.trim();return t?t.replace(/\s+/g,"").toUpperCase():""}function ou(e){const t=ue(e);if(!t)return t;const r=qt();if(r)try{r.setItem(Ee,t)}catch(o){}const n=Bt();if(n)try{n.setItem(Ee,t)}catch(o){}return t}function _a(){const e=qt();if(e)try{const r=e.getItem(Ee);if(r)return ue(r)}catch(r){}const t=Bt();if(t)try{const r=t.getItem(Ee);if(r)return ue(r)}catch(r){}return""}function ur(){const e=qt();if(e)try{e.removeItem(Ee)}catch(r){}const t=Bt();if(t)try{t.removeItem(Ee)}catch(r){}}const Qe=l.createContext();function ja({children:e}){const[t,r]=l.useState(null),[n,o]=l.useState(null),[a,c]=l.useState(!0),[i,d]=l.useState(!1),u=l.useRef(!1),f=async p=>{var h;if(p)try{const{data:b,error:y}=await U.from("profiles").select("*").eq("id",p.id).single();if(y&&!(y.code==="PGRST116"&&((h=y.details)==null?void 0:h.includes("0 rows"))))throw y;o(b||null)}catch(b){o(null)}},m=l.useCallback(async({redirect:p=!0}={})=>{try{await(U==null?void 0:U.auth.signOut())}catch(h){}try{Object.keys(localStorage).forEach(h=>{(h.startsWith("sb-")||h.startsWith("qd_")||h.toLowerCase().includes("supabase"))&&localStorage.removeItem(h)})}catch(h){}try{ur()}catch(h){}try{sessionStorage.clear()}catch(h){}if(r(null),o(null),d(!1),p)try{window.location.assign("/login")}catch(h){window.location.href="/login"}},[]);l.useEffect(()=>{try{const h=new URL(window.location.href);((h.hash||"").includes("type=recovery")||new URLSearchParams(h.search).get("type")==="recovery")&&d(!0)}catch(h){}c(!0),U.auth.getSession().then(({data:{session:h}})=>{const b=h==null?void 0:h.user;r(b!=null?b:null),c(!1),b?f(b):o(null)}).catch(()=>{c(!1)});const{data:{subscription:p}}=U.auth.onAuthStateChange((h,b)=>{const y=b==null?void 0:b.user;r(y!=null?y:null),c(!1),y?f(y):o(null),h==="PASSWORD_RECOVERY"&&d(!0),h==="SIGNED_OUT"&&(r(null),o(null),d(!1))});return()=>{p==null||p.unsubscribe()}},[]),l.useEffect(()=>{if(!t)return;const p=setInterval(async()=>{var h,b,y;if(!(typeof navigator!="undefined"&&navigator&&navigator.onLine===!1))try{const{data:w,error:T}=await U.auth.getSession();if(T){((h=T.message)!=null&&h.includes("Invalid Refresh Token")||T instanceof Error&&T.message.includes("Refresh Token"))&&await m();return}if(!(w!=null&&w.session)){const{data:S,error:R}=await U.auth.refreshSession();if(R){(b=R.message)!=null&&b.includes("Invalid Refresh Token")&&await m();return}S!=null&&S.session||await m()}}catch(w){(y=w==null?void 0:w.message)!=null&&y.includes("Invalid Refresh Token")&&await m()}},5*60*1e3);return()=>clearInterval(p)},[t,m]),l.useEffect(()=>{var P,E;if(!t||a||u.current)return;u.current=!0;const p=new URLSearchParams(window.location.search),h=ue(p.get("ref")),b=_a(),y=ue(((P=t==null?void 0:t.user_metadata)==null?void 0:P.pending_referral_code)||""),w=[h,b,y].filter(Boolean),T=ue((t==null?void 0:t.id)||""),S=w.find(j=>j&&j!==T)||"",R={id:t.id,full_name:((E=t.user_metadata)==null?void 0:E.full_name)||""};U.from("profiles").upsert([R],{onConflict:"id"}).then(async()=>{const j=`qd_referral_processed_${t.id}`;if(!(()=>{try{return sessionStorage.getItem(j)==="1"}catch(O){return!1}})()&&S)try{await U.rpc("handle_referral_bonus",{referred_user_uuid:t.id,referrer_code:S});try{sessionStorage.setItem(j,"1")}catch(O){}S===b&&ur()}catch(O){}}).catch(()=>{}).finally(()=>{f(t)})},[t,a,n]),l.useEffect(()=>{if(n&&!n.referral_code&&t){const p=(t.id||"").replace(/-/g,"").slice(0,8);U.from("profiles").update({referral_code:p}).eq("id",t.id).then(()=>{f(t)}).catch(()=>{})}},[n,t]);const x={supabase:U,user:t,userProfile:n,loading:a,isRecoveryFlow:i,hasSupabaseConfig:!0,signUp:async(p,h,{referralCode:b,options:y}={})=>{const w={...y||{}},T=ue(b);T&&(w.data={...w.data||{},pending_referral_code:T});const S={email:p,password:h};return Object.keys(w).length>0&&(S.options=w),await U.auth.signUp(S)},signIn:async(p,h)=>{const b=(p||"").trim(),y=(h||"").trim();return await U.auth.signInWithPassword({email:b,password:y})},signOut:m,refreshUserProfile:f};return s.jsx(Qe.Provider,{value:x,children:e})}const Aa=({children:e})=>{const t=String({}.VITE_BYPASS_AUTH||"").toLowerCase();if(t==="1"||t==="true"||t==="yes"){const n={id:"dev-bypass-admin",email:"dev-admin@example.com",app_metadata:{provider:"dev-bypass"}},o={id:n.id,full_name:"Dev Admin",role:"admin",wallet_balance:0,current_streak:0,referral_code:"DEVADMIN"},a={supabase:null,user:n,userProfile:o,loading:!1,isRecoveryFlow:!1,hasSupabaseConfig:!1,signUp:async()=>{throw new Error("Auth disabled in dev bypass")},signIn:async()=>{throw new Error("Auth disabled in dev bypass")},signOut:async()=>{},refreshUserProfile:()=>{}};return s.jsx(Qe.Provider,{value:a,children:e})}if(!Ye){const n={supabase:null,user:null,userProfile:null,loading:!1,isRecoveryFlow:!1,hasSupabaseConfig:!1,signUp:async()=>{throw new Error("Supabase config missing")},signIn:async()=>{throw new Error("Supabase config missing")},signOut:async()=>{},refreshUserProfile:()=>{}};return s.jsx(Qe.Provider,{value:n,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-white/20 rounded-2xl p-8 max-w-lg w-full shadow-xl text-center",children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"Configuration Missing"}),s.jsxs("p",{className:"text-gray-700 mb-2",children:["Create a ",s.jsx("code",{children:".env"})," file in the project root with:"]}),s.jsx("pre",{className:"text-left text-sm bg-gray-100 p-3 rounded-md overflow-auto",children:s.jsx("code",{children:"VITE_SUPABASE_URL=your_supabase_url VITE_SUPABASE_ANON_KEY=your_supabase_anon_key"})}),s.jsxs("p",{className:"text-gray-600 mt-3",children:["Or for local UI only testing set ",s.jsx("code",{children:"VITE_BYPASS_AUTH=1"})," then restart dev server."]})]})})})}return s.jsx(ja,{children:e})},oe=()=>{const e=l.useContext(Qe);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var Na=typeof Element!="undefined",Ra=typeof Map=="function",Pa=typeof Set=="function",Ia=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function We(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!We(e[n],t[n]))return!1;return!0}var a;if(Ra&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!We(n.value[1],t.get(n.value[0])))return!1;return!0}if(Pa&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Ia&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;if(Na&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((o[n]==="_owner"||o[n]==="__v"||o[n]==="__o")&&e.$$typeof)&&!We(e[o[n]],t[o[n]]))return!1;return!0}return e!==e&&t!==t}var Oa=function(t,r){try{return We(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const ka=Vt(Oa);var Ma=function(e,t,r,n,o,a,c,i){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,c,i],f=0;d=new Error(t.replace(/%s/g,function(){return u[f++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},Da=Ma;const dr=Vt(Da);var La=function(t,r,n,o){var a=n?n.call(o,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var c=Object.keys(t),i=Object.keys(r);if(c.length!==i.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(r),u=0;u<c.length;u++){var f=c[u];if(!d(f))return!1;var m=t[f],v=r[f];if(a=n?n.call(o,m,v,f):void 0,a===!1||a===void 0&&m!==v)return!1}return!0};const Fa=Vt(La);var en=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(en||{}),st={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},fr=Object.values(en),Ht={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},za=Object.entries(Ht).reduce((e,[t,r])=>(e[r]=t,e),{}),Q="data-rh",be={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ye=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},$a=e=>{let t=ye(e,"title");const r=ye(e,be.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=ye(e,be.DEFAULT_TITLE);return t||n||void 0},Ua=e=>ye(e,be.ON_CHANGE_CLIENT_STATE)||(()=>{}),it=(e,t)=>t.filter(r=>typeof r[e]!="undefined").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Va=(e,t)=>t.filter(r=>typeof r.base!="undefined").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const o=Object.keys(n);for(let a=0;a<o.length;a+=1){const i=o[a].toLowerCase();if(e.indexOf(i)!==-1&&n[i])return r.concat(n)}}return r},[]),Wa=e=>console&&typeof console.warn=="function"&&console.warn(e),Se=(e,t,r)=>{const n={};return r.filter(o=>Array.isArray(o[e])?!0:(typeof o[e]!="undefined"&&Wa(`Helmet: ${e} should be of type "Array". Instead found type "${typeof o[e]}"`),!1)).map(o=>o[e]).reverse().reduce((o,a)=>{const c={};a.filter(d=>{let u;const f=Object.keys(d);for(let v=0;v<f.length;v+=1){const g=f[v],x=g.toLowerCase();t.indexOf(x)!==-1&&!(u==="rel"&&d[u].toLowerCase()==="canonical")&&!(x==="rel"&&d[x].toLowerCase()==="stylesheet")&&(u=x),t.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(u=g)}if(!u||!d[u])return!1;const m=d[u].toLowerCase();return n[u]||(n[u]={}),c[u]||(c[u]={}),n[u][m]?!1:(c[u][m]=!0,!0)}).reverse().forEach(d=>o.push(d));const i=Object.keys(c);for(let d=0;d<i.length;d+=1){const u=i[d],f={...n[u],...c[u]};n[u]=f}return o},[]).reverse()},qa=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},Ba=e=>({baseTag:Va(["href"],e),bodyAttributes:it("bodyAttributes",e),defer:ye(e,be.DEFER),encode:ye(e,be.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:it("htmlAttributes",e),linkTags:Se("link",["rel","href"],e),metaTags:Se("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Se("noscript",["innerHTML"],e),onChangeClientState:Ua(e),scriptTags:Se("script",["src","innerHTML"],e),styleTags:Se("style",["cssText"],e),title:$a(e),titleAttributes:it("titleAttributes",e),prioritizeSeoTags:qa(e,be.PRIORITIZE_SEO_TAGS)}),tn=e=>Array.isArray(e)?e.join(""):e,Ha=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},ct=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Ha(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},mr=(e,t)=>({...e,[t]:void 0}),Ga=["noscript","script","style"],jt=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),rn=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]!="undefined"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Ka=(e,t,r,n)=>{const o=rn(r),a=tn(t);return o?`<${e} ${Q}="true" ${o}>${jt(a,n)}</${e}>`:`<${e} ${Q}="true">${jt(a,n)}</${e}>`},Ya=(e,t,r=!0)=>t.reduce((n,o)=>{const a=o,c=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,f)=>{const m=typeof a[f]=="undefined"?f:`${f}="${jt(a[f],r)}"`;return u?`${u} ${m}`:m},""),i=a.innerHTML||a.cssText||"",d=Ga.indexOf(e)===-1;return`${n}<${e} ${Q}="true" ${c}${d?"/>":`>${i}</${e}>`}`},""),nn=(e,t={})=>Object.keys(e).reduce((r,n)=>{const o=Ht[n];return r[o||n]=e[n],r},t),Qa=(e,t,r)=>{const n={key:t,[Q]:!0},o=nn(r,n);return[B.createElement("title",o,t)]},qe=(e,t)=>t.map((r,n)=>{const o={key:n,[Q]:!0};return Object.keys(r).forEach(a=>{const i=Ht[a]||a;if(i==="innerHTML"||i==="cssText"){const d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[i]=r[a]}),B.createElement(e,o)}),K=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Qa(e,t.title,t.titleAttributes),toString:()=>Ka(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>nn(t),toString:()=>rn(t)};default:return{toComponent:()=>qe(e,t),toString:()=>Ya(e,t,r)}}},Za=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const o=ct(e,st.meta),a=ct(t,st.link),c=ct(r,st.script);return{priorityMethods:{toComponent:()=>[...qe("meta",o.priority),...qe("link",a.priority),...qe("script",c.priority)],toString:()=>`${K("meta",o.priority,n)} ${K("link",a.priority,n)} ${K("script",c.priority,n)}`},metaTags:o.default,linkTags:a.default,scriptTags:c.default}},Xa=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:o,noscriptTags:a,styleTags:c,title:i="",titleAttributes:d,prioritizeSeoTags:u}=e;let{linkTags:f,metaTags:m,scriptTags:v}=e,g={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:g,linkTags:f,metaTags:m,scriptTags:v}=Za(e)),{priority:g,base:K("base",t,n),bodyAttributes:K("bodyAttributes",r,n),htmlAttributes:K("htmlAttributes",o,n),link:K("link",f,n),meta:K("meta",m,n),noscript:K("noscript",a,n),script:K("script",v,n),style:K("style",c,n),title:K("title",{title:i,titleAttributes:d},n)}},At=Xa,Me=[],on=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Nt=class{constructor(e,t){ee(this,"instances",[]);ee(this,"canUseDOM",on);ee(this,"context");ee(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Me:this.instances,add:e=>{(this.canUseDOM?Me:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Me:this.instances).indexOf(e);(this.canUseDOM?Me:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=At({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ja={},an=B.createContext(Ja),we,sn=(we=class extends l.Component{constructor(r){super(r);ee(this,"helmetData");this.helmetData=new Nt(this.props.context||{},we.canUseDOM)}render(){return B.createElement(an.Provider,{value:this.helmetData.value},this.props.children)}},ee(we,"canUseDOM",on),we),pe=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Q}]`),o=[].slice.call(n),a=[];let c;return t&&t.length&&t.forEach(i=>{const d=document.createElement(e);for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u))if(u==="innerHTML")d.innerHTML=i.innerHTML;else if(u==="cssText")d.styleSheet?d.styleSheet.cssText=i.cssText:d.appendChild(document.createTextNode(i.cssText));else{const f=u,m=typeof i[f]=="undefined"?"":i[f];d.setAttribute(u,m)}d.setAttribute(Q,"true"),o.some((u,f)=>(c=f,d.isEqualNode(u)))?o.splice(c,1):a.push(d)}),o.forEach(i=>{var d;return(d=i.parentNode)==null?void 0:d.removeChild(i)}),a.forEach(i=>r.appendChild(i)),{oldTags:o,newTags:a}},Rt=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Q),o=n?n.split(","):[],a=[...o],c=Object.keys(t);for(const i of c){const d=t[i]||"";r.getAttribute(i)!==d&&r.setAttribute(i,d),o.indexOf(i)===-1&&o.push(i);const u=a.indexOf(i);u!==-1&&a.splice(u,1)}for(let i=a.length-1;i>=0;i-=1)r.removeAttribute(a[i]);o.length===a.length?r.removeAttribute(Q):r.getAttribute(Q)!==c.join(",")&&r.setAttribute(Q,c.join(","))},es=(e,t)=>{typeof e!="undefined"&&document.title!==e&&(document.title=tn(e)),Rt("title",t)},pr=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:o,linkTags:a,metaTags:c,noscriptTags:i,onChangeClientState:d,scriptTags:u,styleTags:f,title:m,titleAttributes:v}=e;Rt("body",n),Rt("html",o),es(m,v);const g={baseTag:pe("base",r),linkTags:pe("link",a),metaTags:pe("meta",c),noscriptTags:pe("noscript",i),scriptTags:pe("script",u),styleTags:pe("style",f)},x={},p={};Object.keys(g).forEach(h=>{const{newTags:b,oldTags:y}=g[h];b.length&&(x[h]=b),y.length&&(p[h]=g[h].oldTags)}),t&&t(),d(e,x,p)},Ce=null,ts=e=>{Ce&&cancelAnimationFrame(Ce),e.defer?Ce=requestAnimationFrame(()=>{pr(e,()=>{Ce=null})}):(pr(e),Ce=null)},rs=ts,hr=class extends l.Component{constructor(){super(...arguments);ee(this,"rendered",!1)}shouldComponentUpdate(t){return!Fa(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const o=Ba(t.get().map(a=>{const c={...a.props};return delete c.context,c}));sn.canUseDOM?rs(o):At&&(n=At(o)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ct,ns=(Ct=class extends l.Component{shouldComponentUpdate(e){return!ka(mr(this.props,"helmetData"),mr(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return dr(fr.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${fr.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),dr(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return B.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:o,...a}=n.props,c=Object.keys(a).reduce((d,u)=>(d[za[u]||u]=a[u],d),{});let{type:i}=n;switch(typeof i=="symbol"?i=i.toString():this.warnOnInvalidChildren(n,o),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(o,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,c,o);break;default:t=this.mapObjectTypeChildren(n,t,c,o);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof Nt)){const o=n;n=new Nt(o.context,!0),delete r.helmetData}return n?B.createElement(hr,{...r,context:n.value}):B.createElement(an.Consumer,null,o=>B.createElement(hr,{...r,context:o}))}},ee(Ct,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ct);const os=1,as=1e6;let lt=0;function ss(){return lt=(lt+1)%Number.MAX_SAFE_INTEGER,lt.toString()}const ut=new Map,vr=e=>{if(ut.has(e))return;const t=setTimeout(()=>{ut.delete(e),Ne({type:"REMOVE_TOAST",toastId:e})},as);ut.set(e,t)},is=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,os)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?vr(r):e.toasts.forEach(n=>{vr(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Be=[];let He={toasts:[]};function Ne(e){He=is(He,e),Be.forEach(t=>{t(He)})}function Pt({...e}){const t=ss(),r=o=>Ne({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Ne({type:"DISMISS_TOAST",toastId:t});return Ne({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function cn(){const[e,t]=l.useState(He);return l.useEffect(()=>(Be.push(t),()=>{const r=Be.indexOf(t);r>-1&&Be.splice(r,1)}),[e]),{...e,toast:Pt,dismiss:r=>Ne({type:"DISMISS_TOAST",toastId:r})}}function W(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function gr(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ln(...e){return t=>{let r=!1;const n=e.map(o=>{const a=gr(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():gr(e[o],null)}}}}function Z(...e){return l.useCallback(ln(...e),e)}function cs(e,t){const r=l.createContext(t),n=a=>{const{children:c,...i}=a,d=l.useMemo(()=>i,Object.values(i));return s.jsx(r.Provider,{value:d,children:c})};n.displayName=e+"Provider";function o(a){const c=l.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function Je(e,t=[]){let r=[];function n(a,c){const i=l.createContext(c),d=r.length;r=[...r,c];const u=m=>{var b;const{scope:v,children:g,...x}=m,p=((b=v==null?void 0:v[e])==null?void 0:b[d])||i,h=l.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:h,children:g})};u.displayName=a+"Provider";function f(m,v){var p;const g=((p=v==null?void 0:v[e])==null?void 0:p[d])||i,x=l.useContext(g);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,f]}const o=()=>{const a=r.map(c=>l.createContext(c));return function(i){const d=(i==null?void 0:i[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,ls(o,...t)]}function ls(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function Re(e){const t=ds(e),r=l.forwardRef((n,o)=>{const{children:a,...c}=n,i=l.Children.toArray(a),d=i.find(ms);if(d){const u=d.props.children,f=i.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...c,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,f):null})}return s.jsx(t,{...c,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var us=Re("Slot");function ds(e){const t=l.forwardRef((r,n)=>{const{children:o,...a}=r;if(l.isValidElement(o)){const c=hs(o),i=ps(a,o.props);return o.type!==l.Fragment&&(i.ref=n?ln(n,c):c),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fs=Symbol("radix.slottable");function ms(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fs}function ps(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function hs(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vs(e){const t=e+"CollectionProvider",[r,n]=Je(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=p=>{const{scope:h,children:b}=p,y=B.useRef(null),w=B.useRef(new Map).current;return s.jsx(o,{scope:h,itemMap:w,collectionRef:y,children:b})};c.displayName=t;const i=e+"CollectionSlot",d=Re(i),u=B.forwardRef((p,h)=>{const{scope:b,children:y}=p,w=a(i,b),T=Z(h,w.collectionRef);return s.jsx(d,{ref:T,children:y})});u.displayName=i;const f=e+"CollectionItemSlot",m="data-radix-collection-item",v=Re(f),g=B.forwardRef((p,h)=>{const{scope:b,children:y,...w}=p,T=B.useRef(null),S=Z(h,T),R=a(f,b);return B.useEffect(()=>(R.itemMap.set(T,{ref:T,...w}),()=>void R.itemMap.delete(T))),s.jsx(v,{[m]:"",ref:S,children:y})});g.displayName=f;function x(p){const h=a(e+"CollectionConsumer",p);return B.useCallback(()=>{const y=h.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(h.itemMap.values()).sort((R,P)=>w.indexOf(R.ref.current)-w.indexOf(P.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:c,Slot:u,ItemSlot:g},x,n]}var gs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=gs.reduce((e,t)=>{const r=Re(`Primitive.${t}`),n=l.forwardRef((o,a)=>{const{asChild:c,...i}=o,d=c?r:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function un(e,t){e&&Ut.flushSync(()=>e.dispatchEvent(t))}function re(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bs(e,t=globalThis==null?void 0:globalThis.document){const r=re(e);l.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ys="DismissableLayer",It="dismissableLayer.update",xs="dismissableLayer.pointerDownOutside",ws="dismissableLayer.focusOutside",br,dn=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gt=l.forwardRef((e,t)=>{var P;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:i,...d}=e,u=l.useContext(dn),[f,m]=l.useState(null),v=(P=f==null?void 0:f.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,g]=l.useState({}),x=Z(t,E=>m(E)),p=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(h),y=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,T=y>=b,S=Ts(E=>{const j=E.target,M=[...u.branches].some(O=>O.contains(j));!T||M||(o==null||o(E),c==null||c(E),E.defaultPrevented||i==null||i())},v),R=Ss(E=>{const j=E.target;[...u.branches].some(O=>O.contains(j))||(a==null||a(E),c==null||c(E),E.defaultPrevented||i==null||i())},v);return bs(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&i&&(E.preventDefault(),i()))},v),l.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(br=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),yr(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=br)}},[f,v,r,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),yr())},[f,u]),l.useEffect(()=>{const E=()=>g({});return document.addEventListener(It,E),()=>document.removeEventListener(It,E)},[]),s.jsx($.div,{...d,ref:x,style:{pointerEvents:w?T?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,R.onFocusCapture),onBlurCapture:W(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,S.onPointerDownCapture)})});Gt.displayName=ys;var Es="DismissableLayerBranch",fn=l.forwardRef((e,t)=>{const r=l.useContext(dn),n=l.useRef(null),o=Z(t,n);return l.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx($.div,{...e,ref:o})});fn.displayName=Es;function Ts(e,t=globalThis==null?void 0:globalThis.document){const r=re(e),n=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const a=i=>{if(i.target&&!n.current){let d=function(){mn(xs,r,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ss(e,t=globalThis==null?void 0:globalThis.document){const r=re(e),n=l.useRef(!1);return l.useEffect(()=>{const o=a=>{a.target&&!n.current&&mn(ws,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function yr(){const e=new CustomEvent(It);document.dispatchEvent(e)}function mn(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?un(o,a):o.dispatchEvent(a)}var Cs=Gt,_s=fn,ae=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},js="Portal",Kt=l.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[o,a]=l.useState(!1);ae(()=>a(!0),[]);const c=r||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return c?ta.createPortal(s.jsx($.div,{...n,ref:t}),c):null});Kt.displayName=js;function As(e,t){return l.useReducer((r,n)=>{const o=t[r][n];return o!=null?o:r},e)}var Pe=e=>{const{present:t,children:r}=e,n=Ns(t),o=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),a=Z(n.ref,Rs(o));return typeof r=="function"||n.isPresent?l.cloneElement(o,{ref:a}):null};Pe.displayName="Presence";function Ns(e){const[t,r]=l.useState(),n=l.useRef(null),o=l.useRef(e),a=l.useRef("none"),c=e?"mounted":"unmounted",[i,d]=As(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=De(n.current);a.current=i==="mounted"?u:"none"},[i]),ae(()=>{const u=n.current,f=o.current;if(f!==e){const v=a.current,g=De(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&v!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),ae(()=>{var u;if(t){let f;const m=(u=t.ownerDocument.defaultView)!=null?u:window,v=x=>{const h=De(n.current).includes(x.animationName);if(x.target===t&&h&&(d("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=x=>{x.target===t&&(a.current=De(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:l.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function De(e){return(e==null?void 0:e.animationName)||"none"}function Rs(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ps=Gr[" useInsertionEffect ".trim().toString()]||ae;function pn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,c]=Is({defaultProp:t,onChange:r}),i=e!==void 0,d=i?e:o;{const f=l.useRef(e!==void 0);l.useEffect(()=>{const m=f.current;m!==i&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,n])}const u=l.useCallback(f=>{var m;if(i){const v=Os(f)?f(e):f;v!==e&&((m=c.current)==null||m.call(c,v))}else a(f)},[i,e,a,c]);return[d,u]}function Is({defaultProp:e,onChange:t}){const[r,n]=l.useState(e),o=l.useRef(r),a=l.useRef(t);return Ps(()=>{a.current=t},[t]),l.useEffect(()=>{var c;o.current!==r&&((c=a.current)==null||c.call(a,r),o.current=r)},[r,o]),[r,n,a]}function Os(e){return typeof e=="function"}var ks=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ms="VisuallyHidden",Yt=l.forwardRef((e,t)=>s.jsx($.span,{...e,ref:t,style:{...ks,...e.style}}));Yt.displayName=Ms;var Qt="ToastProvider",[Zt,Ds,Ls]=vs("Toast"),[hn,au]=Je("Toast",[Ls]),[Fs,et]=hn(Qt),vn=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[i,d]=l.useState(null),[u,f]=l.useState(0),m=l.useRef(!1),v=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qt}\`. Expected non-empty \`string\`.`),s.jsx(Zt.Provider,{scope:t,children:s.jsx(Fs,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:d,onToastAdd:l.useCallback(()=>f(g=>g+1),[]),onToastRemove:l.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:c})})};vn.displayName=Qt;var gn="ToastViewport",zs=["F8"],Ot="toast.viewportPause",kt="toast.viewportResume",bn=l.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=zs,label:o="Notifications ({hotkey})",...a}=e,c=et(gn,r),i=Ds(r),d=l.useRef(null),u=l.useRef(null),f=l.useRef(null),m=l.useRef(null),v=Z(t,m,c.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=c.toastCount>0;l.useEffect(()=>{const h=b=>{var w;n.length!==0&&n.every(T=>b[T]||b.code===T)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n]),l.useEffect(()=>{const h=d.current,b=m.current;if(x&&h&&b){const y=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(Ot);b.dispatchEvent(R),c.isClosePausedRef.current=!0}},w=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(kt);b.dispatchEvent(R),c.isClosePausedRef.current=!1}},T=R=>{!h.contains(R.relatedTarget)&&w()},S=()=>{h.contains(document.activeElement)||w()};return h.addEventListener("focusin",y),h.addEventListener("focusout",T),h.addEventListener("pointermove",y),h.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{h.removeEventListener("focusin",y),h.removeEventListener("focusout",T),h.removeEventListener("pointermove",y),h.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,c.isClosePausedRef]);const p=l.useCallback(({tabbingDirection:h})=>{const y=i().map(w=>{const T=w.ref.current,S=[T,...Xs(T)];return h==="forwards"?S:S.reverse()});return(h==="forwards"?y.reverse():y).flat()},[i]);return l.useEffect(()=>{const h=m.current;if(h){const b=y=>{var S,R,P;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,j=y.shiftKey;if(y.target===h&&j){(S=u.current)==null||S.focus();return}const _=p({tabbingDirection:j?"backwards":"forwards"}),A=_.findIndex(C=>C===E);dt(_.slice(A+1))?y.preventDefault():j?(R=u.current)==null||R.focus():(P=f.current)==null||P.focus()}};return h.addEventListener("keydown",b),()=>h.removeEventListener("keydown",b)}},[i,p]),s.jsxs(_s,{ref:d,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Mt,{ref:u,onFocusFromOutsideViewport:()=>{const h=p({tabbingDirection:"forwards"});dt(h)}}),s.jsx(Zt.Slot,{scope:r,children:s.jsx($.ol,{tabIndex:-1,...a,ref:v})}),x&&s.jsx(Mt,{ref:f,onFocusFromOutsideViewport:()=>{const h=p({tabbingDirection:"backwards"});dt(h)}})]})});bn.displayName=gn;var yn="ToastFocusProxy",Mt=l.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=et(yn,r);return s.jsx(Yt,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var u;const i=c.relatedTarget;!((u=a.viewport)!=null&&u.contains(i))&&n()}})});Mt.displayName=yn;var Ie="Toast",$s="toast.swipeStart",Us="toast.swipeMove",Vs="toast.swipeCancel",Ws="toast.swipeEnd",xn=l.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...c}=e,[i,d]=pn({prop:n,defaultProp:o!=null?o:!0,onChange:a,caller:Ie});return s.jsx(Pe,{present:r||i,children:s.jsx(Hs,{open:i,...c,ref:t,onClose:()=>d(!1),onPause:re(e.onPause),onResume:re(e.onResume),onSwipeStart:W(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:W(e.onSwipeMove,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:W(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:W(e.onSwipeEnd,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});xn.displayName=Ie;var[qs,Bs]=hn(Ie,{onClose(){}}),Hs=l.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:i,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:g,...x}=e,p=et(Ie,r),[h,b]=l.useState(null),y=Z(t,C=>b(C)),w=l.useRef(null),T=l.useRef(null),S=o||p.duration,R=l.useRef(0),P=l.useRef(S),E=l.useRef(0),{onToastAdd:j,onToastRemove:M}=p,O=re(()=>{var D;(h==null?void 0:h.contains(document.activeElement))&&((D=p.viewport)==null||D.focus()),c()}),_=l.useCallback(C=>{!C||C===1/0||(window.clearTimeout(E.current),R.current=new Date().getTime(),E.current=window.setTimeout(O,C))},[O]);l.useEffect(()=>{const C=p.viewport;if(C){const D=()=>{_(P.current),u==null||u()},F=()=>{const z=new Date().getTime()-R.current;P.current=P.current-z,window.clearTimeout(E.current),d==null||d()};return C.addEventListener(Ot,F),C.addEventListener(kt,D),()=>{C.removeEventListener(Ot,F),C.removeEventListener(kt,D)}}},[p.viewport,S,d,u,_]),l.useEffect(()=>{a&&!p.isClosePausedRef.current&&_(S)},[a,S,p.isClosePausedRef,_]),l.useEffect(()=>(j(),()=>M()),[j,M]);const A=l.useMemo(()=>h?jn(h):null,[h]);return p.viewport?s.jsxs(s.Fragment,{children:[A&&s.jsx(Gs,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),s.jsx(qs,{scope:r,onClose:O,children:Ut.createPortal(s.jsx(Zt.ItemSlot,{scope:r,children:s.jsx(Cs,{asChild:!0,onEscapeKeyDown:W(i,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:W(e.onKeyDown,C=>{C.key==="Escape"&&(i==null||i(C.nativeEvent),C.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:W(e.onPointerDown,C=>{C.button===0&&(w.current={x:C.clientX,y:C.clientY})}),onPointerMove:W(e.onPointerMove,C=>{if(!w.current)return;const D=C.clientX-w.current.x,F=C.clientY-w.current.y,z=!!T.current,G=["left","right"].includes(p.swipeDirection),J=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ke=G?J(0,D):0,le=G?0:J(0,F),se=C.pointerType==="touch"?10:2,V={x:ke,y:le},ir={originalEvent:C,delta:V};z?(T.current=V,Le(Us,m,ir,{discrete:!1})):xr(V,p.swipeDirection,se)?(T.current=V,Le($s,f,ir,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(D)>se||Math.abs(F)>se)&&(w.current=null)}),onPointerUp:W(e.onPointerUp,C=>{const D=T.current,F=C.target;if(F.hasPointerCapture(C.pointerId)&&F.releasePointerCapture(C.pointerId),T.current=null,w.current=null,D){const z=C.currentTarget,G={originalEvent:C,delta:D};xr(D,p.swipeDirection,p.swipeThreshold)?Le(Ws,g,G,{discrete:!0}):Le(Vs,v,G,{discrete:!0}),z.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Gs=e=>{const{__scopeToast:t,children:r,...n}=e,o=et(Ie,t),[a,c]=l.useState(!1),[i,d]=l.useState(!1);return Qs(()=>c(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:s.jsx(Kt,{asChild:!0,children:s.jsx(Yt,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},Ks="ToastTitle",wn=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($.div,{...n,ref:t})});wn.displayName=Ks;var Ys="ToastDescription",En=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($.div,{...n,ref:t})});En.displayName=Ys;var Tn="ToastAction",Sn=l.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(_n,{altText:r,asChild:!0,children:s.jsx(Xt,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tn}\`. Expected non-empty \`string\`.`),null)});Sn.displayName=Tn;var Cn="ToastClose",Xt=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=Bs(Cn,r);return s.jsx(_n,{asChild:!0,children:s.jsx($.button,{type:"button",...n,ref:t,onClick:W(e.onClick,o.onClose)})})});Xt.displayName=Cn;var _n=l.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx($.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function jn(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Zs(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...jn(n))}}),t}function Le(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?un(o,a):o.dispatchEvent(a)}var xr=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function Qs(e=()=>{}){const t=re(e);ae(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Zs(e){return e.nodeType===e.ELEMENT_NODE}function Xs(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dt(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Js=vn,An=bn,Nn=xn,Rn=wn,Pn=En,In=Sn,On=Xt;function kn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=kn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mn(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=kn(e))&&(n&&(n+=" "),n+=t);return n}const wr=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Er=Mn,Jt=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Er(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(u=>{const f=r==null?void 0:r[u],m=a==null?void 0:a[u];if(f===null)return null;const v=wr(f)||wr(m);return o[u][v]}),i=r&&Object.entries(r).reduce((u,f)=>{let[m,v]=f;return v===void 0||(u[m]=v),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:m,className:v,...g}=f;return Object.entries(g).every(x=>{let[p,h]=x;return Array.isArray(h)?h.includes({...a,...i}[p]):{...a,...i}[p]===h})?[...u,m,v]:u},[]);return Er(e,c,d,r==null?void 0:r.class,r==null?void 0:r.className)};function ei(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=Dn(t))&&(n&&(n+=" "),n+=r);return n}function Dn(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Dn(e[n]))&&(r&&(r+=" "),r+=t);return r}var er="-";function ti(e){var t=ni(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function a(i){var d=i.split(er);return d[0]===""&&d.length!==1&&d.shift(),Ln(d,t)||ri(i)}function c(i,d){var u=r[i]||[];return d&&o[i]?[].concat(u,o[i]):u}return{getClassGroupId:a,getConflictingClassGroupIds:c}}function Ln(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?Ln(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var a=e.join(er);return(c=t.validators.find(function(i){var d=i.validator;return d(a)}))==null?void 0:c.classGroupId}}var Tr=/^\[(.+)\]$/;function ri(e){if(Tr.test(e)){var t=Tr.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function ni(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=ai(Object.entries(e.classGroups),r);return o.forEach(function(a){var c=a[0],i=a[1];Dt(i,n,c,t)}),n}function Dt(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var a=o===""?t:Sr(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(oi(o)){Dt(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(c){var i=c[0],d=c[1];Dt(d,Sr(t,i),r,n)})})}function Sr(e,t){var r=e;return t.split(er).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function oi(e){return e.isThemeGetter}function ai(e,t){return t?e.map(function(r){var n=r[0],o=r[1],a=o.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(i){var d=i[0],u=i[1];return[t+d,u]})):c});return[n,a]}):e}function si(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(a,c){r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var i=r.get(c);if(i!==void 0)return i;if((i=n.get(c))!==void 0)return o(c,i),i},set:function(c,i){r.has(c)?r.set(c,i):o(c,i)}}}var Fn="!";function ii(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(c){for(var i=[],d=0,u=0,f,m=0;m<c.length;m++){var v=c[m];if(d===0){if(v===n&&(r||c.slice(m,m+o)===t)){i.push(c.slice(u,m)),u=m+o;continue}if(v==="/"){f=m;continue}}v==="["?d++:v==="]"&&d--}var g=i.length===0?c:c.substring(u),x=g.startsWith(Fn),p=x?g.substring(1):g,h=f&&f>u?f-u:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:p,maybePostfixModifierPosition:h}}}function ci(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function li(e){return{cache:si(e.cacheSize),splitModifiers:ii(e),...ti(e)}}var ui=/\s+/;function di(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(ui).map(function(c){var i=r(c),d=i.modifiers,u=i.hasImportantModifier,f=i.baseClassName,m=i.maybePostfixModifierPosition,v=n(m?f.substring(0,m):f),g=!!m;if(!v){if(!m)return{isTailwindClass:!1,originalClassName:c};if(v=n(f),!v)return{isTailwindClass:!1,originalClassName:c};g=!1}var x=ci(d).join(":"),p=u?x+Fn:x;return{isTailwindClass:!0,modifierId:p,classGroupId:v,originalClassName:c,hasPostfixModifier:g}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var i=c.modifierId,d=c.classGroupId,u=c.hasPostfixModifier,f=i+d;return a.has(f)?!1:(a.add(f),o(d,u).forEach(function(m){return a.add(i+m)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function fi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,a,c=i;function i(u){var f=t[0],m=t.slice(1),v=m.reduce(function(g,x){return x(g)},f());return n=li(v),o=n.cache.get,a=n.cache.set,c=d,d(u)}function d(u){var f=o(u);if(f)return f;var m=di(u,n);return a(u,m),m}return function(){return c(ei.apply(null,arguments))}}function L(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var zn=/^\[(?:([a-z-]+):)?(.+)\]$/i,mi=/^\d+\/\d+$/,pi=new Set(["px","full","screen"]),hi=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gi=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Y(e){return de(e)||pi.has(e)||mi.test(e)||Lt(e)}function Lt(e){return me(e,"length",Ti)}function bi(e){return me(e,"size",$n)}function yi(e){return me(e,"position",$n)}function xi(e){return me(e,"url",Si)}function Fe(e){return me(e,"number",de)}function de(e){return!Number.isNaN(Number(e))}function wi(e){return e.endsWith("%")&&de(e.slice(0,-1))}function _e(e){return Cr(e)||me(e,"number",Cr)}function I(e){return zn.test(e)}function je(){return!0}function ie(e){return hi.test(e)}function Ei(e){return me(e,"",Ci)}function me(e,t,r){var n=zn.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function Ti(e){return vi.test(e)}function $n(){return!1}function Si(e){return e.startsWith("url(")}function Cr(e){return Number.isInteger(Number(e))}function Ci(e){return gi.test(e)}function _i(){var e=L("colors"),t=L("spacing"),r=L("blur"),n=L("brightness"),o=L("borderColor"),a=L("borderRadius"),c=L("borderSpacing"),i=L("borderWidth"),d=L("contrast"),u=L("grayscale"),f=L("hueRotate"),m=L("invert"),v=L("gap"),g=L("gradientColorStops"),x=L("gradientColorStopPositions"),p=L("inset"),h=L("margin"),b=L("opacity"),y=L("padding"),w=L("saturate"),T=L("scale"),S=L("sepia"),R=L("skew"),P=L("space"),E=L("translate"),j=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",I,t]},_=function(){return[I,t]},A=function(){return["",Y]},C=function(){return["auto",de,I]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},G=function(){return["start","end","center","between","around","evenly","stretch"]},J=function(){return["","0",I]},ke=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},le=function(){return[de,Fe]},se=function(){return[de,I]};return{cacheSize:500,theme:{colors:[je],spacing:[Y],blur:["none","",ie,I],brightness:le(),borderColor:[e],borderRadius:["none","","full",ie,I],borderSpacing:_(),borderWidth:A(),contrast:le(),grayscale:J(),hueRotate:se(),invert:J(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[wi,Lt],inset:O(),margin:O(),opacity:le(),padding:_(),saturate:le(),scale:le(),sepia:J(),skew:se(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",I]}],container:["container"],columns:[{columns:[ie]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[I])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_e]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",I]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",_e]}],"grid-cols":[{"grid-cols":[je]}],"col-start-end":[{col:["auto",{span:["full",_e]},I]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[je]}],"row-start-end":[{row:["auto",{span:[_e]},I]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",I]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",I]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(G())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(G(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(G(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",I,t]}],"min-w":[{"min-w":["min","max","fit",I,Y]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ie]},ie,I]}],h:[{h:[I,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",I,Y]}],"max-h":[{"max-h":[I,t,"min","max","fit"]}],"font-size":[{text:["base",ie,Lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fe]}],"font-family":[{font:[je]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",I]}],"line-clamp":[{"line-clamp":["none",de,Fe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",I,Y]}],"list-image":[{"list-image":["none",I]}],"list-style-type":[{list:["none","disc","decimal",I]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Y]}],"underline-offset":[{"underline-offset":["auto",I,Y]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[yi])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[I,Y]}],"outline-w":[{outline:[Y]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Y]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ie,Ei]}],"shadow-color":[{shadow:[je]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ie,I]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",I]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",I]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",I]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[_e,I]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",I]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",I]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",I]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Y,Fe]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ji=fi(_i);function q(...e){return ji(Mn(e))}function su(e,t={}){if(!e)return"—";try{const r=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:t.timeZone||"Asia/Kolkata"}).format(r)+" IST"}catch(r){return typeof e=="string"?e:"—"}}function iu(e,t={}){if(!e)return"—";try{const r=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat("en-IN",{day:"2-digit",month:"short",year:"numeric",timeZone:t.timeZone||"Asia/Kolkata"}).format(r)}catch(r){return typeof e=="string"?e:"—"}}function cu(e,t={}){if(!e)return"—";try{const r=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:t.timeZone||"Asia/Kolkata"}).format(r)}catch(r){return typeof e=="string"?e:"—"}}const Ai={"/wallet":()=>k(()=>import("./Wallet-76d5a36c.js"),["assets/Wallet-76d5a36c.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/SEO-41c7a503.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"]),"/profile":()=>k(()=>import("./Profile-2e16e57a.js"),["assets/Profile-2e16e57a.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/SEO-41c7a503.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/motion-f69b6c08.js"]),"/leaderboards":()=>k(()=>import("./Leaderboards-5eae7845.js"),["assets/Leaderboards-5eae7845.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"]),"/my-quizzes":()=>k(()=>import("./MyQuizzes-c1545905.js"),["assets/MyQuizzes-c1545905.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js","assets/supabase-4c1332f7.js"])},ft=new Set;function _r(e){try{const t=Ai[e];if(!t||ft.has(e))return;const r=()=>t().catch(()=>{});typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{r(),ft.add(e)}):setTimeout(()=>{r(),ft.add(e)},120)}catch(t){}}const Ni=new Set(["1","true","yes","on","auto","enabled"]),Ri=new Set(["0","false","no","off","disabled"]);function lu(e={}){var r,n;const{defaultValue:t=!0}=e||{};try{const o=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n.VITE_ALLOW_CLIENT_COMPUTE;if(o==null)return t;const a=String(o).trim().toLowerCase();return a?Ni.has(a)?!0:Ri.has(a)?!1:t:t}catch(o){return t}}const tr={money:{icon:"₹",prefix:"₹",suffix:"",label:"cash"},coins:{icon:"🪙",prefix:"",suffix:" coins",label:"coins"},others:{icon:"🎁",prefix:"",suffix:"",label:"rewards"}},jr={rupee:"money",rupees:"money",cash:"money",inr:"money",coin:"coins",token:"coins",tokens:"coins",reward:"others",rewards:"others",other:"others",gift:"others"},Pi=tr.money,Un=(e="money")=>{if(e==null)return"money";const t=String(e).trim().toLowerCase();return t?tr[t]?t:jr[t]?jr[t]:"money":"money"},Ii=e=>{if(e==null)return null;if(typeof e=="number")return Number.isFinite(e)?e:null;const t=String(e).trim();if(!t)return null;const r=Number(t.replace(/[^0-9.]/g,""));return Number.isFinite(r)?r:t};function Oi(e="money"){const t=Un(e);return tr[t]||Pi}function uu(e,t,r={}){const n=Un(e),o=Oi(n),{fallback:a="0"}=r,c=Ii(t),i=c!=null?c:a,d=typeof i=="number"?i:Number(i),u=Number.isFinite(d)?d.toLocaleString("en-IN"):String(i),f=`${o.prefix||""}${u}${o.suffix||""}`.trim(),m=!!((o.icon||"").trim()&&(o.prefix||"").trim()!==(o.icon||"").trim());return{icon:o.icon,formatted:f,value:u,prefix:o.prefix||"",suffix:o.suffix||"",label:o.label,prizeType:typeof e=="string"&&e.trim()?e:n,resolvedPrizeType:n,showIconSeparately:m}}const ki=Js,Vn=l.forwardRef(({className:e,...t},r)=>s.jsx(An,{ref:r,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Vn.displayName=An.displayName;const Mi=Jt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wn=l.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(Nn,{ref:n,className:q(Mi({variant:t}),e),...r}));Wn.displayName=Nn.displayName;const Di=l.forwardRef(({className:e,...t},r)=>s.jsx(In,{ref:r,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Di.displayName=In.displayName;const qn=l.forwardRef(({className:e,...t},r)=>s.jsx(On,{ref:r,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Yr,{className:"h-4 w-4"})}));qn.displayName=On.displayName;const Bn=l.forwardRef(({className:e,...t},r)=>s.jsx(Rn,{ref:r,className:q("text-sm font-semibold",e),...t}));Bn.displayName=Rn.displayName;const Hn=l.forwardRef(({className:e,...t},r)=>s.jsx(Pn,{ref:r,className:q("text-sm opacity-90",e),...t}));Hn.displayName=Pn.displayName;function Li(){const{toasts:e}=cn();return s.jsxs(ki,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(Wn,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Bn,{children:r}),n&&s.jsx(Hn,{children:n})]}),o,s.jsx(qn,{})]},t)}),s.jsx(Vn,{})]})}const Fi=Jt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-indigo-600 text-white shadow-lg hover:bg-indigo-700",white:"bg-white text-slate-900 border border-slate-200 shadow-md hover:bg-slate-50",soft:"bg-slate-800 text-white border border-slate-700 shadow hover:bg-slate-800/90",glass:"bg-slate-800/60 text-white border border-white/10 backdrop-blur-sm hover:bg-slate-800/70",fire:"btn-fire text-white"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=l.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const c=n?us:"button";return s.jsx(c,{className:q(Fi({variant:t,size:r,className:e})),ref:a,...o})});Oe.displayName="Button";class zi extends B.Component{constructor(r){super(r);ee(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,n){this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"qd-card rounded-2xl p-8 max-w-md w-full shadow-xl text-center text-slate-100",children:[s.jsx(aa,{className:"mx-auto h-16 w-16 text-red-400 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Something went wrong"}),s.jsx("p",{className:"text-slate-300 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,s.jsxs(Oe,{onClick:this.handleReset,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(sa,{className:"w-4 h-4 mr-2"}),"Refresh Page"]})]})}):this.props.children}}const $i=()=>{const e=Wt(),t=ra(),r=[{icon:ia,label:"Home",path:"/"},{icon:ca,label:"Leaderboards",path:"/leaderboards"},{icon:la,label:"My Quizzes",path:"/my-quizzes"},{icon:ua,label:"Wallet",path:"/wallet"},{icon:da,label:"Profile",path:"/profile"}],n=o=>{switch(o){case"/":return"text-accent-d";case"/leaderboards":return"text-accent-a";case"/my-quizzes":return"text-accent-c";case"/wallet":return"text-accent-e";case"/profile":return"text-accent-b";default:return"text-accent-d"}};return s.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-50 p-2 pb-[max(0.5rem,env(safe-area-inset-bottom))]",children:s.jsx("div",{className:"qd-card rounded-3xl mx-1 sm:mx-2 shadow-[0_8px_28px_-8px_rgba(0,0,0,0.45)] overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-around py-2 px-2 sm:px-4",children:r.map(o=>{const a=o.icon,c=e.pathname===o.path;return s.jsxs("button",{onClick:()=>t(o.path),onMouseEnter:()=>_r(o.path),onFocus:()=>_r(o.path),className:`relative flex flex-col items-center justify-center py-1.5 px-2 min-w-0 transition-all duration-200 ease-in-out hover:scale-110 active:scale-95 ${c?"qd-active-underline":""}`,style:{WebkitTapHighlightColor:"transparent"},children:[s.jsx("span",{className:"relative",children:s.jsx(a,{size:24,strokeWidth:2.8,className:`mb-1 drop-shadow ${c?n(o.path):"text-white/80"}`})}),s.jsx("span",{className:`text-[10px] font-semibold tracking-wide ${c?n(o.path):"text-white/85"}`,children:o.label})]},o.path)})})})})},Ui=1500,Vi=1e4,du=15e3,fu=3e3;var Wi=Gr[" useId ".trim().toString()]||(()=>{}),qi=0;function mt(e){const[t,r]=l.useState(Wi());return ae(()=>{e||r(n=>n!=null?n:String(qi++))},[e]),e||(t?`radix-${t}`:"")}var pt="focusScope.autoFocusOnMount",ht="focusScope.autoFocusOnUnmount",Ar={bubbles:!1,cancelable:!0},Bi="FocusScope",Gn=l.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[i,d]=l.useState(null),u=re(o),f=re(a),m=l.useRef(null),v=Z(t,p=>d(p)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let p=function(w){if(g.paused||!i)return;const T=w.target;i.contains(T)?m.current=T:ce(m.current,{select:!0})},h=function(w){if(g.paused||!i)return;const T=w.relatedTarget;T!==null&&(i.contains(T)||ce(m.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ce(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",h);const y=new MutationObserver(b);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",h),y.disconnect()}}},[n,i,g.paused]),l.useEffect(()=>{if(i){Rr.add(g);const p=document.activeElement;if(!i.contains(p)){const b=new CustomEvent(pt,Ar);i.addEventListener(pt,u),i.dispatchEvent(b),b.defaultPrevented||(Hi(Zi(Kn(i)),{select:!0}),document.activeElement===p&&ce(i))}return()=>{i.removeEventListener(pt,u),setTimeout(()=>{const b=new CustomEvent(ht,Ar);i.addEventListener(ht,f),i.dispatchEvent(b),b.defaultPrevented||ce(p!=null?p:document.body,{select:!0}),i.removeEventListener(ht,f),Rr.remove(g)},0)}}},[i,u,f,g]);const x=l.useCallback(p=>{if(!r&&!n||g.paused)return;const h=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(h&&b){const y=p.currentTarget,[w,T]=Gi(y);w&&T?!p.shiftKey&&b===T?(p.preventDefault(),r&&ce(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&ce(T,{select:!0})):b===y&&p.preventDefault()}},[r,n,g.paused]);return s.jsx($.div,{tabIndex:-1,...c,ref:v,onKeyDown:x})});Gn.displayName=Bi;function Hi(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ce(n,{select:t}),document.activeElement!==r)return}function Gi(e){const t=Kn(e),r=Nr(t,e),n=Nr(t.reverse(),e);return[r,n]}function Kn(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Nr(e,t){for(const r of e)if(!Ki(r,{upTo:t}))return r}function Ki(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yi(e){return e instanceof HTMLInputElement&&"select"in e}function ce(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Yi(e)&&t&&e.select()}}var Rr=Qi();function Qi(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Pr(e,t),e.unshift(t)},remove(t){var r;e=Pr(e,t),(r=e[0])==null||r.resume()}}}function Pr(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Zi(e){return e.filter(t=>t.tagName!=="A")}var vt=0;function Xi(){l.useEffect(()=>{var t,r;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Ir()),document.body.insertAdjacentElement("beforeend",(r=e[1])!=null?r:Ir()),vt++,()=>{vt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),vt--}},[])}function Ir(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var te=function(){return te=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},te.apply(this,arguments)};function Yn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Ji(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ge="right-scroll-bar-position",Ke="width-before-scroll-bar",ec="with-scroll-bars-hidden",tc="--removed-body-scroll-bar-size";function gt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rc(e,t){var r=l.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var nc=typeof window!="undefined"?l.useLayoutEffect:l.useEffect,Or=new WeakMap;function oc(e,t){var r=rc(t||null,function(n){return e.forEach(function(o){return gt(o,n)})});return nc(function(){var n=Or.get(r);if(n){var o=new Set(n),a=new Set(e),c=r.current;o.forEach(function(i){a.has(i)||gt(i,null)}),a.forEach(function(i){o.has(i)||gt(i,c)})}Or.set(r,e)},[e]),r}function ac(e){return e}function sc(e,t){t===void 0&&(t=ac);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(i){return i!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var i=r;r=[],i.forEach(a),c=r}var d=function(){var f=c;c=[],f.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(f){c.push(f),u()},filter:function(f){return c=c.filter(f),r}}}};return o}function ic(e){e===void 0&&(e={});var t=sc(null);return t.options=te({async:!0,ssr:!1},e),t}var Qn=function(e){var t=e.sideCar,r=Yn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,te({},r))};Qn.isSideCarExport=!0;function cc(e,t){return e.useMedium(t),Qn}var Zn=ic(),bt=function(){},tt=l.forwardRef(function(e,t){var r=l.useRef(null),n=l.useState({onScrollCapture:bt,onWheelCapture:bt,onTouchMoveCapture:bt}),o=n[0],a=n[1],c=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,g=e.noRelative,x=e.noIsolation,p=e.inert,h=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,T=Yn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=v,R=oc([r,t]),P=te(te({},T),o);return l.createElement(l.Fragment,null,f&&l.createElement(S,{sideCar:Zn,removeScrollBar:u,shards:m,noRelative:g,noIsolation:x,inert:p,setCallbacks:a,allowPinchZoom:!!h,lockRef:r,gapMode:w}),c?l.cloneElement(l.Children.only(i),te(te({},P),{ref:R})):l.createElement(y,te({},P,{className:d,ref:R}),i))});tt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tt.classNames={fullWidth:Ke,zeroRight:Ge};var kr,lc=function(){if(kr)return kr;if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function uc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lc();return t&&e.setAttribute("nonce",t),e}function dc(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fc(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mc=function(){var e=0,t=null;return{add:function(r){e==0&&(t=uc())&&(dc(t,r),fc(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pc=function(){var e=mc();return function(t,r){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Xn=function(){var e=pc(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},hc={left:0,top:0,right:0,gap:0},yt=function(e){return parseInt(e||"",10)||0},vc=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[yt(r),yt(n),yt(o)]},gc=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return hc;var t=vc(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},bc=Xn(),xe="data-scroll-locked",yc=function(e,t,r,n){var o=e.left,a=e.top,c=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ec,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(xe,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ge,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Ke,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Ge," .").concat(Ge,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ke," .").concat(Ke,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xe,`] {
    `).concat(tc,": ").concat(i,`px;
  }
`)},Mr=function(){var e=parseInt(document.body.getAttribute(xe)||"0",10);return isFinite(e)?e:0},xc=function(){l.useEffect(function(){return document.body.setAttribute(xe,(Mr()+1).toString()),function(){var e=Mr()-1;e<=0?document.body.removeAttribute(xe):document.body.setAttribute(xe,e.toString())}},[])},wc=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;xc();var a=l.useMemo(function(){return gc(o)},[o]);return l.createElement(bc,{styles:yc(a,!t,o,r?"":"!important")})},Ft=!1;if(typeof window!="undefined")try{var ze=Object.defineProperty({},"passive",{get:function(){return Ft=!0,!0}});window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(e){Ft=!1}var he=Ft?{passive:!1}:!1,Ec=function(e){return e.tagName==="TEXTAREA"},Jn=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ec(e)&&r[t]==="visible")},Tc=function(e){return Jn(e,"overflowY")},Sc=function(e){return Jn(e,"overflowX")},Dr=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var o=eo(e,n);if(o){var a=to(e,n),c=a[1],i=a[2];if(c>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Cc=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_c=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eo=function(e,t){return e==="v"?Tc(t):Sc(t)},to=function(e,t){return e==="v"?Cc(t):_c(t)},jc=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ac=function(e,t,r,n,o){var a=jc(e,window.getComputedStyle(t).direction),c=a*n,i=r.target,d=t.contains(i),u=!1,f=c>0,m=0,v=0;do{if(!i)break;var g=to(e,i),x=g[0],p=g[1],h=g[2],b=p-h-a*x;(x||b)&&eo(e,i)&&(m+=b,v+=x);var y=i.parentNode;i=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(f&&(o&&Math.abs(m)<1||!o&&c>m)||!f&&(o&&Math.abs(v)<1||!o&&-c>v))&&(u=!0),u},$e=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lr=function(e){return[e.deltaX,e.deltaY]},Fr=function(e){return e&&"current"in e?e.current:e},Nc=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Pc=0,ve=[];function Ic(e){var t=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),o=l.useState(Pc++)[0],a=l.useState(Xn)[0],c=l.useRef(e);l.useEffect(function(){c.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Ji([e.lockRef.current],(e.shards||[]).map(Fr),!0).filter(Boolean);return p.forEach(function(h){return h.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(p,h){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var b=$e(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],T="deltaY"in p?p.deltaY:y[1]-b[1],S,R=p.target,P=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in p&&P==="h"&&R.type==="range")return!1;var E=Dr(P,R);if(!E)return!0;if(E?S=P:(S=P==="v"?"h":"v",E=Dr(P,R)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||T)&&(n.current=S),!S)return!0;var j=n.current||S;return Ac(j,h,p,j==="h"?w:T,!0)},[]),d=l.useCallback(function(p){var h=p;if(!(!ve.length||ve[ve.length-1]!==a)){var b="deltaY"in h?Lr(h):$e(h),y=t.current.filter(function(S){return S.name===h.type&&(S.target===h.target||h.target===S.shadowParent)&&Nc(S.delta,b)})[0];if(y&&y.should){h.cancelable&&h.preventDefault();return}if(!y){var w=(c.current.shards||[]).map(Fr).filter(Boolean).filter(function(S){return S.contains(h.target)}),T=w.length>0?i(h,w[0]):!c.current.noIsolation;T&&h.cancelable&&h.preventDefault()}}},[]),u=l.useCallback(function(p,h,b,y){var w={name:p,delta:h,target:b,should:y,shadowParent:Oc(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(T){return T!==w})},1)},[]),f=l.useCallback(function(p){r.current=$e(p),n.current=void 0},[]),m=l.useCallback(function(p){u(p.type,Lr(p),p.target,i(p,e.lockRef.current))},[]),v=l.useCallback(function(p){u(p.type,$e(p),p.target,i(p,e.lockRef.current))},[]);l.useEffect(function(){return ve.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,he),document.addEventListener("touchmove",d,he),document.addEventListener("touchstart",f,he),function(){ve=ve.filter(function(p){return p!==a}),document.removeEventListener("wheel",d,he),document.removeEventListener("touchmove",d,he),document.removeEventListener("touchstart",f,he)}},[]);var g=e.removeScrollBar,x=e.inert;return l.createElement(l.Fragment,null,x?l.createElement(a,{styles:Rc(o)}):null,g?l.createElement(wc,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Oc(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kc=cc(Zn,Ic);var ro=l.forwardRef(function(e,t){return l.createElement(tt,te({},e,{ref:t,sideCar:kc}))});ro.classNames=tt.classNames;const Mc=ro;var Dc=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ge=new WeakMap,Ue=new WeakMap,Ve={},xt=0,no=function(e){return e&&(e.host||no(e.parentNode))},Lc=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=no(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fc=function(e,t,r,n){var o=Lc(t,Array.isArray(e)?e:[e]);Ve[r]||(Ve[r]=new WeakMap);var a=Ve[r],c=[],i=new Set,d=new Set(o),u=function(m){!m||i.has(m)||(i.add(m),u(m.parentNode))};o.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(i.has(v))f(v);else try{var g=v.getAttribute(n),x=g!==null&&g!=="false",p=(ge.get(v)||0)+1,h=(a.get(v)||0)+1;ge.set(v,p),a.set(v,h),c.push(v),p===1&&x&&Ue.set(v,!0),h===1&&v.setAttribute(r,"true"),x||v.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return f(t),i.clear(),xt++,function(){c.forEach(function(m){var v=ge.get(m)-1,g=a.get(m)-1;ge.set(m,v),a.set(m,g),v||(Ue.has(m)||m.removeAttribute(n),Ue.delete(m)),g||m.removeAttribute(r)}),xt--,xt||(ge=new WeakMap,ge=new WeakMap,Ue=new WeakMap,Ve={})}},zc=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=t||Dc(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Fc(n,o,r,"aria-hidden")):function(){return null}},rt="Dialog",[oo,mu]=Je(rt),[$c,X]=oo(rt),ao=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,i=l.useRef(null),d=l.useRef(null),[u,f]=pn({prop:n,defaultProp:o!=null?o:!1,onChange:a,caller:rt});return s.jsx($c,{scope:t,triggerRef:i,contentRef:d,contentId:mt(),titleId:mt(),descriptionId:mt(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(m=>!m),[f]),modal:c,children:r})};ao.displayName=rt;var so="DialogTrigger",Uc=l.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=X(so,r),a=Z(t,o.triggerRef);return s.jsx($.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":or(o.open),...n,ref:a,onClick:W(e.onClick,o.onOpenToggle)})});Uc.displayName=so;var rr="DialogPortal",[Vc,io]=oo(rr,{forceMount:void 0}),co=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=X(rr,t);return s.jsx(Vc,{scope:t,forceMount:r,children:l.Children.map(n,c=>s.jsx(Pe,{present:r||a.open,children:s.jsx(Kt,{asChild:!0,container:o,children:c})}))})};co.displayName=rr;var Ze="DialogOverlay",lo=l.forwardRef((e,t)=>{const r=io(Ze,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=X(Ze,e.__scopeDialog);return a.modal?s.jsx(Pe,{present:n||a.open,children:s.jsx(qc,{...o,ref:t})}):null});lo.displayName=Ze;var Wc=Re("DialogOverlay.RemoveScroll"),qc=l.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=X(Ze,r);return s.jsx(Mc,{as:Wc,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx($.div,{"data-state":or(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fe="DialogContent",uo=l.forwardRef((e,t)=>{const r=io(fe,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=X(fe,e.__scopeDialog);return s.jsx(Pe,{present:n||a.open,children:a.modal?s.jsx(Bc,{...o,ref:t}):s.jsx(Hc,{...o,ref:t})})});uo.displayName=fe;var Bc=l.forwardRef((e,t)=>{const r=X(fe,e.__scopeDialog),n=l.useRef(null),o=Z(t,r.contentRef,n);return l.useEffect(()=>{const a=n.current;if(a)return zc(a)},[]),s.jsx(fo,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,i=c.button===0&&c.ctrlKey===!0;(c.button===2||i)&&a.preventDefault()}),onFocusOutside:W(e.onFocusOutside,a=>a.preventDefault())})}),Hc=l.forwardRef((e,t)=>{const r=X(fe,e.__scopeDialog),n=l.useRef(!1),o=l.useRef(!1);return s.jsx(fo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),fo=l.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=e,i=X(fe,r),d=l.useRef(null),u=Z(t,d);return Xi(),s.jsxs(s.Fragment,{children:[s.jsx(Gn,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Gt,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":or(i.open),...c,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Gc,{titleId:i.titleId}),s.jsx(Yc,{contentRef:d,descriptionId:i.descriptionId})]})]})}),nr="DialogTitle",mo=l.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=X(nr,r);return s.jsx($.h2,{id:o.titleId,...n,ref:t})});mo.displayName=nr;var po="DialogDescription",ho=l.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=X(po,r);return s.jsx($.p,{id:o.descriptionId,...n,ref:t})});ho.displayName=po;var vo="DialogClose",go=l.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=X(vo,r);return s.jsx($.button,{type:"button",...n,ref:t,onClick:W(e.onClick,()=>o.onOpenChange(!1))})});go.displayName=vo;function or(e){return e?"open":"closed"}var bo="DialogTitleWarning",[pu,yo]=cs(bo,{contentName:fe,titleName:nr,docsSlug:"dialog"}),Gc=({titleId:e})=>{const t=yo(bo),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kc="DialogDescriptionWarning",Yc=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yo(Kc).contentName}}.`;return l.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Qc=ao,Zc=co,xo=lo,wo=uo,Eo=mo,To=ho,Xc=go;const ar=Qc,Jc=Zc,So=l.forwardRef(({className:e,...t},r)=>s.jsx(xo,{ref:r,className:q("fixed inset-0 z-[80] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));So.displayName=xo.displayName;const nt=l.forwardRef(({className:e,children:t,closeButton:r=!0,overlayClassName:n,...o},a)=>{const{"aria-describedby":c,...i}=o,d={"aria-describedby":c!=null?c:void 0};return s.jsxs(Jc,{children:[s.jsx(So,{className:n}),s.jsxs(wo,{ref:a,className:q("fixed left-[50%] top-[50%] z-[80] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...d,...i,children:[t,r&&s.jsxs(Xc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Yr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});nt.displayName=wo.displayName;const ot=({className:e,...t})=>s.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ot.displayName="DialogHeader";const el=({className:e,...t})=>s.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});el.displayName="DialogFooter";const at=l.forwardRef(({className:e,...t},r)=>s.jsx(Eo,{ref:r,className:q("text-lg font-semibold leading-none tracking-tight",e),...t}));at.displayName=Eo.displayName;const tl=l.forwardRef(({className:e,...t},r)=>s.jsx(To,{ref:r,className:q("text-sm text-muted-foreground",e),...t}));tl.displayName=To.displayName;function rl({open:e,onClose:t,streakDay:r,coinsEarned:n,day:o,coins:a}){const c=r!=null?r:o,i=n!=null?n:a,d=Number.isFinite(Number(i))?Number(i):0;return s.jsx(ar,{open:e,onOpenChange:u=>{u||t==null||t()},children:s.jsxs(nt,{overlayClassName:"bg-black/90 backdrop-blur-sm",className:"w-[calc(100vw-2rem)] max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl rounded-2xl p-5 sm:p-6 bg-slate-900 border border-white/10 shadow-2xl overflow-hidden",children:[s.jsxs("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-0",children:[s.jsx("div",{className:"absolute -top-12 -right-12 w-36 h-36 rounded-full bg-accent-b-15 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-12 -left-12 w-36 h-36 rounded-full bg-accent-c-15 blur-3xl"})]}),s.jsxs(ot,{className:"items-center text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center shadow-lg",children:s.jsx(fa,{className:"w-9 h-9 text-white drop-shadow"})}),s.jsx(at,{className:"mt-3 text-2xl font-extrabold heading-gradient",children:"Daily Streak!"}),s.jsxs("p",{className:"mt-1 text-sm text-white/85",children:["You are on day ",s.jsx("span",{className:"font-semibold text-accent-b",children:c})," 🔥"]})]}),s.jsx("div",{className:"mt-4 flex items-center justify-center",children:s.jsxs("div",{className:"chip-accent-b px-4 py-2 gap-2",children:[s.jsx(ma,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-semibold",children:["+",d," coins"]})]})}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(Oe,{variant:"brand",onClick:t,className:"px-5",children:"Awesome!"})})]})})}const nl=()=>{const{user:e,userProfile:t,refreshUserProfile:r}=oe(),n=l.useMemo(()=>Number((t==null?void 0:t.wallet_balance)||0),[t==null?void 0:t.wallet_balance]),o=l.useMemo(()=>n.toLocaleString(),[n]),[a,c]=l.useState({open:!1,day:0,coins:0}),i=l.useRef(!1),d=l.useMemo(()=>Number((t==null?void 0:t.current_streak)||0),[t==null?void 0:t.current_streak]);return l.useEffect(()=>{if(!e||i.current)return;const f=setTimeout(async()=>{i.current=!0;try{const m=`qd_streak_claim_${e.id}`,v=new Date,g=`${v.getFullYear()}-${v.getMonth()+1}-${v.getDate()}`;try{if(sessionStorage.getItem(m)===g)return}catch(h){}const{data:x,error:p}=await U.rpc("handle_daily_login",{user_uuid:e.id});if(p){console.error("Error handling daily login:",p);return}x&&x.is_new_login&&(await r(e),c({open:!0,day:x.streak_day,coins:x.coins_earned}));try{sessionStorage.setItem(m,g)}catch(h){}}catch(m){console.error("Exception handling daily login:",m)}finally{i.current=!1}},Ui);return()=>clearTimeout(f)},[e,r]),s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"sticky top-0 z-[60] px-2 pt-2 animate-slide-down","data-mute-click-sound":!0,style:{"--slide-delay":"40ms"},children:s.jsx("div",{className:"qd-card rounded-3xl overflow-hidden",children:s.jsx("div",{className:"container mx-auto px-2 sm:px-5 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[s.jsxs(na,{to:"/",className:"flex items-center gap-2 group",children:[s.jsx("img",{src:"/logo.svg",alt:"Quiz Dangal Logo",width:"48",height:"48",decoding:"async",onError:u=>{u.currentTarget.src="/android-chrome-512x512.png"},className:"w-11 h-11 sm:w-12 sm:h-12 rounded-full shadow-lg object-contain select-none",draggable:"false",style:{imageRendering:"auto"}}),s.jsxs("div",{className:"leading-tight whitespace-nowrap select-none",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-extrabold qd-gradient-text drop-shadow-[0_2px_4px_rgba(0,0,0,0.35)] tracking-tight",children:"Quiz Dangal"}),s.jsx("div",{className:"text-[11px] sm:text-xs text-white/70 -mt-0.5 font-medium",children:"Where Minds Clash"})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3 translate-x-1 sm:translate-x-0",children:[s.jsxs("div",{className:"hidden sm:inline-flex hd-badge hd-badge-gold",title:"Coins","aria-label":`Coins: ${o}`,children:[s.jsx("div",{className:"hd-badge-icon","aria-hidden":"true",children:s.jsx("div",{className:"hd-badge-coin",children:s.jsxs("div",{className:"hd-badge-coin-front",children:[s.jsx(pa,{className:"hd-badge-coin-icon"}),s.jsx("span",{className:"hd-badge-coin-shine"})]})})}),s.jsxs("div",{className:"hd-badge-info select-none",children:[s.jsx("span",{className:"hd-badge-value tabular-nums",children:o}),s.jsx("span",{className:"hd-badge-label",children:"COINS"})]})]}),s.jsxs("button",{type:"button",onClick:()=>{const u=d,f=Math.min(50,10+Math.max(0,u-1)*5);c({open:!0,day:u,coins:f})},className:"hd-badge hd-badge-streak -ml-1 sm:-ml-2",title:"Daily Streak","aria-label":`Streak: ${d} days`,children:[s.jsxs("div",{className:"hd-badge-icon hd-badge-icon-streak-full","aria-hidden":"true",children:[s.jsx("div",{className:"streak-orb"}),s.jsx("span",{className:"streak-emoji",style:{fontSize:"20px",lineHeight:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.55)) drop-shadow(0 0 4px rgba(255,150,40,0.5))"},children:"🔥"})]}),s.jsxs("div",{className:"hd-badge-info select-none",children:[s.jsx("span",{className:"hd-badge-value tabular-nums",children:d}),s.jsx("span",{className:"hd-badge-label",children:"STREAK"})]})]})]})]})})})}),s.jsx(rl,{open:a.open,onClose:()=>c(u=>({...u,open:!1})),streakDay:a.day,coinsEarned:a.coins})]})},zt=l.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base sm:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));zt.displayName="Input";var ol="Label",Co=l.forwardRef((e,t)=>s.jsx($.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Co.displayName=ol;var _o=Co;const al=Jt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$t=l.forwardRef(({className:e,...t},r)=>s.jsx(_o,{ref:r,className:q(al(),e),...t}));$t.displayName=_o.displayName;var jo={exports:{}},Ao={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=l;function sl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var il=typeof Object.is=="function"?Object.is:sl,cl=Te.useState,ll=Te.useEffect,ul=Te.useLayoutEffect,dl=Te.useDebugValue;function fl(e,t){var r=t(),n=cl({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return ul(function(){o.value=r,o.getSnapshot=t,wt(o)&&a({inst:o})},[e,r,t]),ll(function(){return wt(o)&&a({inst:o}),e(function(){wt(o)&&a({inst:o})})},[e]),dl(r),r}function wt(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!il(e,r)}catch(n){return!0}}function ml(e,t){return t()}var pl=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?ml:fl;Ao.useSyncExternalStore=Te.useSyncExternalStore!==void 0?Te.useSyncExternalStore:pl;jo.exports=Ao;var hl=jo.exports;function vl(){return hl.useSyncExternalStore(gl,()=>!0,()=>!1)}function gl(){return()=>{}}var sr="Avatar",[bl,hu]=Je(sr),[yl,No]=bl(sr),Ro=l.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=l.useState("idle");return s.jsx(yl,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx($.span,{...n,ref:t})})});Ro.displayName=sr;var Po="AvatarImage",Io=l.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,c=No(Po,r),i=xl(n,a),d=re(u=>{o(u),c.onImageLoadingStatusChange(u)});return ae(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?s.jsx($.img,{...a,ref:t,src:n}):null});Io.displayName=Po;var Oo="AvatarFallback",ko=l.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=No(Oo,r),[c,i]=l.useState(n===void 0);return l.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(d)}},[n]),c&&a.imageLoadingStatus!=="loaded"?s.jsx($.span,{...o,ref:t}):null});ko.displayName=Oo;function zr(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xl(e,{referrerPolicy:t,crossOrigin:r}){const n=vl(),o=l.useRef(null),a=(()=>n?(o.current||(o.current=new window.Image),o.current):null)(),[c,i]=l.useState(()=>zr(a,e));return ae(()=>{i(zr(a,e))},[a,e]),ae(()=>{const d=m=>()=>{i(m)};if(!a)return;const u=d("loaded"),f=d("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,r,t]),c}var Mo=Ro,Do=Io,Lo=ko;const Fo=l.forwardRef(({className:e,...t},r)=>s.jsx(Mo,{ref:r,className:q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fo.displayName=Mo.displayName;const zo=l.forwardRef(({className:e,...t},r)=>s.jsx(Do,{ref:r,className:q("aspect-square h-full w-full",e),...t}));zo.displayName=Do.displayName;const $o=l.forwardRef(({className:e,...t},r)=>s.jsx(Lo,{ref:r,className:q("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$o.displayName=Lo.displayName;const wl=({isOpen:e,onClose:t,isFirstTime:r=!1})=>{const{user:n,userProfile:o,supabase:a,refreshUserProfile:c}=oe(),{toast:i}=cn(),[d,u]=l.useState(!1),[f,m]=l.useState({username:"",mobile_number:"",avatar_url:""}),[v,g]=l.useState({}),[x,p]=l.useState(null),[h,b]=l.useState("");l.useEffect(()=>{let E=!1;const j=_=>{if(!_)return"";try{if(!/^https?:\/\//i.test(_))return _.replace(/^\/+/,"");const A=_.match(/\/storage\/v1\/object\/(?:public|sign)\/avatars\/(.+)$/);return A&&A[1]?decodeURIComponent(A[1]):_}catch(A){return _}},M=async _=>{var C,D,F;const A=j(_);if(/^https?:\/\//i.test(A)&&!/\/storage\/v1\/object\//.test(A))return A;try{const z=(D=(C=a==null?void 0:a.storage)==null?void 0:C.from("avatars"))==null?void 0:D.getPublicUrl(A),G=(F=z==null?void 0:z.data)==null?void 0:F.publicUrl;if(G)return G}catch(z){}try{const{data:z,error:G}=await a.storage.from("avatars").createSignedUrl(A,3600);if(G)throw G;return(z==null?void 0:z.signedUrl)||""}catch(z){return console.warn("Avatar preview fetch failed:",z),""}};return(async()=>{if(o)if(m({username:o.username||"",mobile_number:o.mobile_number||"",avatar_url:o.avatar_url||""}),o.avatar_url&&a){const _=await M(o.avatar_url);E||b(_)}else b("")})(),()=>{E=!0}},[o,a]);const y=()=>{const E={};return f.username.trim()?f.username.length<3?E.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(f.username)||(E.username="Username can only contain letters, numbers, and underscores"):E.username="Username is required",f.mobile_number.trim()?/^[6-9]\d{9}$/.test(f.mobile_number)||(E.mobile_number="Please enter a valid 10-digit mobile number"):E.mobile_number="Mobile number is required",g(E),Object.keys(E).length===0},w=async E=>{if(!E||E===(o==null?void 0:o.username))return!0;try{const{data:j,error:M}=await a.rpc("is_username_available",{p_username:E,p_exclude:n.id});return M?(console.error("Username check error:",M),!0):!!j}catch(j){return console.error("Username availability check failed:",j),!0}},T=async E=>{var D;const j=E.name.split(".").pop(),M=`${n.id}-${Date.now()}.${j}`,O=`${n.id}/${M}`,{error:_}=await a.storage.from("avatars").upload(O,E,{upsert:!0});if(_)throw _;try{const F=a.storage.from("avatars").getPublicUrl(O);if((D=F==null?void 0:F.data)!=null&&D.publicUrl)return{path:O,previewUrl:F.data.publicUrl}}catch(F){}const{data:A,error:C}=await a.storage.from("avatars").createSignedUrl(O,60*60);if(C)throw C;return{path:O,previewUrl:(A==null?void 0:A.signedUrl)||""}},S=E=>{const j=E.target.files[0];if(j){if(j.size>5*1024*1024){g({...v,avatar:"File size must be less than 5MB"});return}if(!j.type.startsWith("image/")){g({...v,avatar:"Only image files are allowed"});return}p(j);const M=new FileReader;M.onload=_=>b(_.target.result),M.readAsDataURL(j);const O={...v};delete O.avatar,g(O)}},R=async E=>{if(E.preventDefault(),!!y()){u(!0);try{if(!await w(f.username)){g({username:"Username is already taken"}),u(!1);return}let M=f.avatar_url;if(x)try{const A=await T(x);M=A.path,A.previewUrl&&b(A.previewUrl)}catch(A){console.error("Avatar upload failed:",A)}const O={username:f.username.trim(),mobile_number:f.mobile_number.trim(),avatar_url:M,is_profile_complete:!0},{error:_}=await a.from("profiles").update(O).eq("id",n.id);if(_)throw _;i({title:"Profile updated",description:"Your profile has been saved successfully."}),await c(n),t()}catch(j){console.error("Profile update error:",j),g({submit:j.message||"Failed to update profile"})}finally{u(!1)}}},P=()=>((o==null?void 0:o.full_name)||(o==null?void 0:o.username)||(n==null?void 0:n.email)||"").split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2);return s.jsx(ar,{open:e,onOpenChange:r?void 0:t,children:s.jsxs(nt,{className:"sm:max-w-md app-surface border border-white/10 bg-slate-900/60",overlayClassName:"bg-black/60 backdrop-blur-sm",closeButton:!r,children:[s.jsxs(ot,{children:[s.jsx(at,{className:"text-center heading-gradient text-2xl font-extrabold",children:r?"Complete Your Profile":"Edit Profile"}),r&&s.jsx("p",{className:"text-sm text-white/70 text-center",children:"Please complete your profile to continue"})]}),s.jsx("div",{className:"subtle-divider my-2"}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(Fo,{className:"w-20 h-20 ring-1 ring-white/15 shadow-md",children:[s.jsx(zo,{src:h}),s.jsx($o,{className:"text-lg bg-slate-800 text-white",children:P()})]}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-slate-900/80 border border-white/10 text-white p-1.5 rounded-full cursor-pointer hover:bg-slate-900/90 shadow transition-colors",children:[s.jsx(ha,{className:"w-3 h-3"}),s.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),s.jsx("p",{className:"text-xs text-white/60",children:"Click camera to change photo"}),v.avatar&&s.jsx("p",{className:"text-xs text-red-400",children:v.avatar})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($t,{htmlFor:"username",className:"text-white/90",children:["Username ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(zt,{id:"username",value:f.username,onChange:E=>m({...f,username:E.target.value}),placeholder:"Enter unique username",className:`bg-slate-900/60 border-white/10 text-white placeholder:text-white/50 ${v.username?"border-red-500":""}`}),v.username&&s.jsx("p",{className:"text-xs text-red-400",children:v.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($t,{htmlFor:"mobile",className:"text-white/90",children:["Mobile Number ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(zt,{id:"mobile",type:"tel",value:f.mobile_number,onChange:E=>m({...f,mobile_number:E.target.value}),placeholder:"Enter 10-digit mobile number",className:`bg-slate-900/60 border-white/10 text-white placeholder:text-white/50 ${v.mobile_number?"border-red-500":""}`}),v.mobile_number&&s.jsx("p",{className:"text-xs text-red-400",children:v.mobile_number})]}),v.submit&&s.jsx("p",{className:"text-sm text-red-400 text-center",children:v.submit}),s.jsx(Oe,{type:"submit",className:"w-full",variant:"brand",size:"lg",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(va,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Completing Profile...":"Updating Profile..."]}):r?"Complete Profile":"Update Profile"})]})]})})};function $r(e){try{if(typeof window=="undefined"||document.visibilityState!=="visible")return;const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t&&(t.saveData||typeof t.effectiveType=="string"&&/(^|\b)2g(\b|$)/i.test(t.effectiveType)))return;(window.requestIdleCallback||(n=>setTimeout(n,1200)))(()=>{try{e()}catch(n){}})}catch(t){}}const El=()=>{const[e,t]=l.useState(!1),[r,n]=l.useState(null),[o,a]=l.useState(!1);l.useEffect(()=>{if(typeof window=="undefined")return;const d=typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)"):null;t((()=>{var g;try{return!!(d!=null&&d.matches||((g=window.navigator)==null?void 0:g.standalone)===!0)}catch(x){return!1}})());const f=g=>{var x;t(!!(g!=null&&g.matches)||((x=window.navigator)==null?void 0:x.standalone)===!0)};if(d)try{d.addEventListener("change",f)}catch(g){d.addListener&&d.addListener(f)}const m=g=>{g.preventDefault(),n(g),a(!0)},v=()=>{n(null),a(!1)};return window.addEventListener("beforeinstallprompt",m),window.addEventListener("appinstalled",v),()=>{if(window.removeEventListener("beforeinstallprompt",m),window.removeEventListener("appinstalled",v),d)try{d.removeEventListener("change",f)}catch(g){d.removeListener&&d.removeListener(f)}}},[]);const c=async()=>{try{if(!r)return;r.prompt();const{outcome:d}=await r.userChoice;d==="accepted"&&(n(null),a(!1))}catch(d){}},i=async()=>{if(o&&r){await c();return}try{const d=navigator.userAgent||navigator.vendor||window.opera||"",u=/iPad|iPhone|iPod/.test(d)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,f=/^((?!chrome|android).)*safari/i.test(d);if(u&&f){Pt({title:"iPhone par Install kaise karein",description:'Share button par tap karein → "Add to Home Screen" chunein.'});return}const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(d),v=/Chrome|Chromium|Edg\//.test(d)&&!/Mobile/i.test(d);if(!m&&v){Pt({title:"Install on Desktop",description:'Address bar ke paas "Install app" icon par click karein, ya Chrome menu → Install Quiz Dangal.'});return}}catch(d){}};return e?null:s.jsxs("button",{onClick:i,className:"w-14 h-14 rounded-full btn-fire transition-all duration-300 transform hover:scale-105 flex items-center justify-center group relative overflow-hidden",style:{position:"fixed",bottom:"100px",right:"20px",zIndex:9999},"aria-label":"Install App",title:"Install App",children:[s.jsxs("svg",{className:"pointer-events-none absolute -top-2 left-1/2 -translate-x-1/2 w-6 h-6 opacity-70",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[s.jsx("path",{d:"M12 2c1.5 2 2 3.5 2 5 0 1.5-.5 3-2 4-1.5-1-2-2.5-2-4 0-1.5.5-3 2-5Z",fill:"url(#flameGrad)"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"flameGrad",x1:"12",y1:"2",x2:"12",y2:"11",gradientUnits:"userSpaceOnUse",children:[s.jsx("stop",{stopColor:"#fde047"}),s.jsx("stop",{offset:"1",stopColor:"#f97316"})]})})]}),s.jsx("div",{className:"absolute inset-0"}),s.jsx(ga,{className:"w-5 h-5 relative z-10 drop-shadow"}),s.jsx("span",{className:"hidden group-hover:block absolute right-16 bg-gray-900/90 backdrop-blur text-white px-2 py-1 rounded text-xs whitespace-nowrap border border-white/10 shadow",children:"Install App"})]})};function Tl(e,t){try{return[`[${new Date().toISOString()}] [${e}]`,...t]}catch(r){return[`[log:${e}]`,...t]}}const Et={info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error(...Tl("error",e))}};var Br,Hr;const Ur=(((Hr=(Br=import.meta)==null?void 0:Br.env)==null?void 0:Hr.VITE_VAPID_PUBLIC_KEY)||"").trim();function Sl(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),o=new Uint8Array(n.length);for(let a=0;a<n.length;++a)o[a]=n.charCodeAt(a);return o}function Uo(){const{user:e}=(oe==null?void 0:oe())||{user:null},[t,r]=l.useState(!1),[n,o]=l.useState(null),[a,c]=l.useState(null);return l.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(u=>{u.pushManager.getSubscription().then(f=>{f&&(r(!0),o(f))})})},[]),{isSubscribed:t,subscribeToPush:async()=>{if(!e)return c("Notifications ke liye pehle login karein."),!1;if(!("serviceWorker"in navigator&&"PushManager"in window))return c("Push notifications are not supported by this browser."),!1;try{if(typeof Notification!="undefined"&&Notification.permission==="default"&&await Notification.requestPermission()!=="granted")return c("Notifications permission was denied."),!1;if(!Ur)return c("Push key not configured. Set VITE_VAPID_PUBLIC_KEY in your .env"),!1;if(!Ye||!U)return c("Server is not configured for push. Supabase credentials missing."),!1;const f=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sl(Ur)}),{error:m}=await U.rpc("save_push_subscription",{p_subscription_object:f.toJSON()});if(m)throw m;return o(f),r(!0),c(null),Et.info("Push subscription successful",f),!0}catch(u){return Et.error("Failed to subscribe the user",u),c((u==null?void 0:u.message)||"Subscription failed"),!1}},unsubscribeFromPush:async()=>{var u;try{if(!("serviceWorker"in navigator&&"PushManager"in window))return c("Push not supported in this browser"),!1;const m=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(!m)return r(!1),o(null),!0;const v=(u=m.toJSON)==null?void 0:u.call(m),g=(v==null?void 0:v.endpoint)||(n==null?void 0:n.endpoint);if(g&&Ye&&U)try{await U.rpc("delete_push_subscription",{p_endpoint:g})}catch(x){}try{await m.unsubscribe()}catch(x){}return r(!1),o(null),c(null),!0}catch(f){return Et.error("Failed to unsubscribe",f),c((f==null?void 0:f.message)||"Unsubscribe failed"),!1}},error:a}}const Cl=()=>{const{user:e}=oe(),{subscribeToPush:t}=Uo(),[r,n]=l.useState(!1),o=l.useRef(null),a=l.useMemo(()=>`qd_notifChoice_${(e==null?void 0:e.id)||"guest"}`,[e]);l.useEffect(()=>{try{typeof Notification!="undefined"&&Notification.permission!=="default"&&localStorage.setItem(a,"true")}catch(d){}},[a]),l.useEffect(()=>{try{const d=typeof window!="undefined"&&"Notification"in window,u=(()=>{try{return localStorage.getItem(a)==="true"}catch(f){return!1}})();return!e||!d||Notification.permission!=="default"||u?void 0:(o.current=setTimeout(()=>n(!0),Vi),()=>{o.current&&clearTimeout(o.current)})}catch(d){}},[e,a]);const c=async()=>{try{await t()}catch(d){}try{typeof Notification!="undefined"&&Notification.permission!=="default"&&localStorage.setItem(a,"true")}catch(d){}n(!1)},i=()=>{n(!1)};return s.jsx(ar,{open:r,onOpenChange:d=>{d||i()},children:s.jsxs(nt,{className:"bg-slate-900/95 border border-slate-800 text-slate-100 sm:rounded-2xl p-4 sm:p-6 max-w-sm w-[92vw]",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[s.jsx(ot,{children:s.jsx(at,{className:"text-base sm:text-lg",children:"Get quiz reminders"})}),s.jsx("div",{className:"text-sm text-slate-300",children:"Turn on notifications to get alerts before a quiz starts and when results are announced."}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(Oe,{onClick:c,className:"font-semibold px-6",children:"Allow"})})]})})},_l=l.lazy(()=>k(()=>import("./Home-d31855d8.js"),["assets/Home-d31855d8.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/motion-f69b6c08.js"])),jl=l.lazy(()=>k(()=>import("./MyQuizzes-c1545905.js"),["assets/MyQuizzes-c1545905.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js","assets/supabase-4c1332f7.js"])),Al=l.lazy(()=>k(()=>import("./Wallet-76d5a36c.js"),["assets/Wallet-76d5a36c.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/SEO-41c7a503.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"])),Nl=l.lazy(()=>k(()=>import("./Profile-2e16e57a.js"),["assets/Profile-2e16e57a.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/SEO-41c7a503.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/motion-f69b6c08.js"])),Rl=l.lazy(()=>k(()=>import("./Login-d123ab5e.js"),["assets/Login-d123ab5e.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/motion-f69b6c08.js"])),Tt=l.lazy(()=>k(()=>import("./ResetPassword-d9f8fd68.js"),["assets/ResetPassword-d9f8fd68.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/supabase-4c1332f7.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Vo=l.lazy(()=>k(()=>import("./AboutUs-541bd8ab.js"),["assets/AboutUs-541bd8ab.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/brand-c20a5535.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js"])),Wo=l.lazy(()=>k(()=>import("./ContactUs-5b4ee8e1.js"),["assets/ContactUs-5b4ee8e1.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/brand-c20a5535.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js"])),qo=l.lazy(()=>k(()=>import("./TermsConditions-e0020716.js"),["assets/TermsConditions-e0020716.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/brand-c20a5535.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js"])),Bo=l.lazy(()=>k(()=>import("./PrivacyPolicy-d474733f.js"),["assets/PrivacyPolicy-d474733f.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/brand-c20a5535.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js"])),Pl=l.lazy(()=>k(()=>import("./Quiz-a9106c76.js"),["assets/Quiz-a9106c76.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js","assets/supabase-4c1332f7.js"])),Il=l.lazy(()=>k(()=>import("./CategoryQuizzes-f7939130.js"),["assets/CategoryQuizzes-f7939130.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js","assets/supabase-4c1332f7.js"])),Ol=l.lazy(()=>k(()=>import("./Admin-29614669.js"),["assets/Admin-29614669.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js","assets/supabase-4c1332f7.js"])),kl=l.lazy(()=>k(()=>import("./Results-27514c55.js"),["assets/Results-27514c55.js","assets/supabase-4c1332f7.js","assets/react-8a702e3e.js","assets/avatar-14da71c6.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Ho=l.lazy(()=>k(()=>import("./Leaderboards-5eae7845.js"),["assets/Leaderboards-5eae7845.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"])),Ml=l.lazy(()=>k(()=>import("./Redemptions-f5b41319.js"),["assets/Redemptions-f5b41319.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"])),Dl=l.lazy(()=>k(()=>import("./ReferEarn-9b4c1bd2.js"),["assets/ReferEarn-9b4c1bd2.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/avatar-14da71c6.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js"])),Vr=l.lazy(()=>k(()=>import("./Landing-2a455aa7.js"),["assets/Landing-2a455aa7.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Go=l.lazy(()=>k(()=>import("./PlayWinQuiz-61e22aa7.js"),["assets/PlayWinQuiz-61e22aa7.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Ko=l.lazy(()=>k(()=>import("./OpinionQuiz-ad073376.js"),["assets/OpinionQuiz-ad073376.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Yo=l.lazy(()=>k(()=>import("./ReferEarnInfo-2e123754.js"),["assets/ReferEarnInfo-2e123754.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/supabase-4c1332f7.js","assets/router-f2cf3f51.js","assets/icons-52d1b41a.js","assets/motion-f69b6c08.js"])),Wr=s.jsxs(s.Fragment,{children:[s.jsx(N,{path:"/terms-conditions",element:s.jsx(qo,{})}),s.jsx(N,{path:"/privacy-policy",element:s.jsx(Bo,{})}),s.jsx(N,{path:"/about-us",element:s.jsx(Vo,{})}),s.jsx(N,{path:"/contact-us",element:s.jsx(Wo,{})}),s.jsx(N,{path:"/play-win-quiz-app",element:s.jsx(Go,{})}),s.jsx(N,{path:"/opinion-quiz-app",element:s.jsx(Ko,{})}),s.jsx(N,{path:"/refer-earn-quiz-app",element:s.jsx(Yo,{})}),s.jsx(N,{path:"/leaderboards",element:s.jsx(Ho,{})})]}),Ll=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-white/20 rounded-2xl p-8 max-w-md w-full shadow-xl text-center",children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Check your email"}),s.jsx("p",{className:"text-gray-600",children:"We've sent a confirmation link to your email address. Please click the link to complete your registration."})]})}),H=({children:e})=>s.jsx("div",{className:"page-transition",children:e}),Qo=()=>s.jsx("div",{className:"min-h-[40vh] flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading content",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-indigo-200 border-t-indigo-600","aria-hidden":"true"})});function Fl(){const e=Wt();return l.useEffect(()=>{try{const t=e.pathname+e.search+e.hash;window.gtag&&window.gtag("event","page_view",{page_path:t})}catch(t){}},[e]),null}function zl(){const e=Wt();l.useEffect(()=>{const t=document.getElementById("app-main");t&&setTimeout(()=>{try{t.focus({preventScroll:!1})}catch(r){}},0)},[e.pathname])}function $l(){return Uo(),null}function Ul(){var o,a;const{user:e,loading:t,isRecoveryFlow:r}=oe(),n=l.useMemo(()=>{try{if(typeof navigator=="undefined"||!navigator.userAgent)return!1;const c=navigator.userAgent.toLowerCase();return/bot|crawl|slurp|spider|mediapartners|google|bing|duckduckgo|baiduspider|yandex|facebookexternalhit|linkedinbot|twitterbot/.test(c)}catch(c){return!1}},[]);return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading application",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600","aria-hidden":"true"}),s.jsx("div",{className:"text-indigo-600 font-medium animate-pulse",children:"Loading Quiz Dangal..."})]})}):s.jsx(zi,{children:s.jsxs(oa,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[s.jsx(Fl,{}),s.jsxs("div",{className:"min-h-screen flex flex-col relative text-gray-50 transition-all duration-300 ease-in-out",children:[s.jsxs(ns,{children:[s.jsx("title",{children:"Quiz Dangal – Play Quizzes & Win | Refer & Earn"}),s.jsx("meta",{name:"description",content:"Play opinion-based quizzes, climb leaderboards, win rewards, and refer friends to earn coins on Quiz Dangal."}),s.jsx("meta",{name:"keywords",content:"Quiz Dangal, quizdangal, quiz app, opinion quiz, daily quiz, play and win, refer and earn, rewards, leaderboards"})]}),e&&!r&&!(((o=e.app_metadata)==null?void 0:o.provider)==="email"&&!e.email_confirmed_at)&&s.jsx($l,{}),s.jsx(l.Suspense,{fallback:s.jsx(Qo,{}),children:s.jsx(Wl,{children:s.jsx(Kr,{children:r?s.jsxs(s.Fragment,{children:[s.jsx(N,{path:"/reset-password",element:s.jsx(Tt,{})}),s.jsx(N,{path:"*",element:s.jsx(ne,{to:"/reset-password",replace:!0})})]}):e?((a=e.app_metadata)==null?void 0:a.provider)==="email"&&!e.email_confirmed_at?s.jsxs(s.Fragment,{children:[Wr,s.jsx(N,{path:"/reset-password",element:s.jsx(Tt,{})}),s.jsx(N,{path:"*",element:s.jsx(Ll,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{path:"/quiz/:id",element:s.jsx(Pl,{})}),s.jsx(N,{path:"/category/:slug",element:s.jsx(H,{children:s.jsx(Il,{})})}),s.jsx(N,{path:"/results/:id",element:s.jsx(kl,{})}),s.jsx(N,{path:"/*",element:s.jsx(ql,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{path:"/",element:n?s.jsx(Vr,{}):s.jsx(ne,{to:"/login",replace:!0})}),Wr,s.jsx(N,{path:"/landing",element:s.jsx(Vr,{})}),s.jsx(N,{path:"/reset-password",element:s.jsx(Tt,{})}),s.jsx(N,{path:"/login",element:s.jsx(Rl,{})}),s.jsx(N,{path:"*",element:s.jsx(ne,{to:"/login",replace:!0})})]})})})}),s.jsx(Li,{})]})]})})}function Vl({children:e}){var u;const{userProfile:t,user:r,loading:n}=oe(),o=l.useMemo(()=>{try{const f=String({}.VITE_ADMIN_EMAILS||"").trim();return f?new Set(f.split(/[,\s]+/).map(m=>m.trim().toLowerCase()).filter(Boolean)):new Set}catch(f){return new Set}},[]);if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-indigo-200 border-t-indigo-600"})});const a=String((t==null?void 0:t.role)||"").trim().toLowerCase(),c=String((r==null?void 0:r.email)||"").trim().toLowerCase(),i=String(((u=r==null?void 0:r.app_metadata)==null?void 0:u.role)||"").trim().toLowerCase();return a==="admin"||i==="admin"||c&&o.has(c)?e:s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:s.jsxs("div",{className:"qd-card rounded-2xl max-w-md w-full p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:"Admin access required"}),s.jsxs("p",{className:"text-sm text-white/70",children:["Admin panel kholne ke liye aapke Supabase ",s.jsx("code",{children:"profiles"})," record ka ",s.jsx("strong",{children:"role"})," field ",s.jsx("code",{children:"'admin'"})," hona zaroori hai."]}),s.jsxs("ul",{className:"text-left text-sm text-white/65 mt-4 space-y-2 list-disc list-inside",children:[s.jsxs("li",{children:["Supabase dashboard → Table editor → ",s.jsx("code",{children:"profiles"})," me login user ka ",s.jsx("code",{children:"role"})," update karein."]}),s.jsx("li",{children:"Changes apply hone ke baad dobara login karein ya session refresh karein."}),s.jsxs("li",{children:["Agar dev bypass (",s.jsx("code",{children:"VITE_BYPASS_AUTH=1"}),") use kar rahe hain to mock admin profile already enable hai."]}),o.size>0&&s.jsxs("li",{children:["Whitelisted admin emails: ",[...o].join(", ")]})]})]})})}function Wl({children:e}){return zl(),s.jsx("div",{id:"app-focus-wrapper",tabIndex:"-1",className:"outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/60",children:e})}const ql=()=>{const{userProfile:e,loading:t,hasSupabaseConfig:r}=oe(),[n,o]=l.useState(!1),a=l.useMemo(()=>{var v;if(!e)return!1;const i=((e==null?void 0:e.username)||"").trim(),d=(((v=e==null?void 0:e.mobile_number)!=null?v:"")+"").trim(),u=/^[a-zA-Z0-9_]{3,}$/.test(i),f=/^[6-9]\d{9}$/.test(d);return!((e==null?void 0:e.is_profile_complete)===!0||u&&f)},[e]);l.useEffect(()=>{t||r&&e&&o(!!a)},[t,r,a,e]);const c=typeof window!="undefined"&&window.location&&window.location.pathname==="/";return l.useEffect(()=>{(()=>{try{if(typeof document!="undefined"&&document.visibilityState!=="visible")return!1;const d=navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||null;if(d&&(d.saveData||typeof d.effectiveType=="string"&&/(^|\b)2g(\b|$)/i.test(d.effectiveType)))return!1;const u=navigator&&navigator.deviceMemory||4;return!(u&&u<=2)}catch(d){return!0}})()&&($r(()=>k(()=>import("./Leaderboards-5eae7845.js"),["assets/Leaderboards-5eae7845.js","assets/react-8a702e3e.js","assets/SEO-41c7a503.js","assets/router-f2cf3f51.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"])),$r(()=>k(()=>import("./Wallet-76d5a36c.js"),["assets/Wallet-76d5a36c.js","assets/react-8a702e3e.js","assets/router-f2cf3f51.js","assets/SEO-41c7a503.js","assets/motion-f69b6c08.js","assets/icons-52d1b41a.js","assets/supabase-4c1332f7.js"])))},[]),s.jsxs(s.Fragment,{children:[s.jsx(nl,{}),s.jsx("main",{className:`flex-1 ${c?"pt-8 sm:pt-10 pb-24 overflow-hidden min-h-0":"pb-24 pt-4 sm:pt-6"}`,id:"app-main",tabIndex:"-1",role:"main","aria-label":"Application Content",children:s.jsx(l.Suspense,{fallback:s.jsx(Qo,{}),children:s.jsxs(Kr,{children:[s.jsx(N,{path:"/",element:s.jsx(H,{children:s.jsx(_l,{})})}),s.jsx(N,{path:"/my-quizzes",element:s.jsx(H,{children:s.jsx(jl,{})})}),s.jsx(N,{path:"/wallet",element:s.jsx(H,{children:s.jsx(Al,{})})}),s.jsx(N,{path:"/profile",element:s.jsx(H,{children:s.jsx(Nl,{})})}),s.jsx(N,{path:"/leaderboards",element:s.jsx(H,{children:s.jsx(Ho,{})})}),s.jsx(N,{path:"/refer",element:s.jsx(H,{children:s.jsx(Dl,{})})}),s.jsx(N,{path:"/rewards",element:s.jsx(ne,{to:"/wallet",replace:!0})}),s.jsx(N,{path:"/redemptions",element:s.jsx(H,{children:s.jsx(Ml,{})})}),s.jsx(N,{path:"/about-us",element:s.jsx(H,{children:s.jsx(Vo,{})})}),s.jsx(N,{path:"/contact-us",element:s.jsx(H,{children:s.jsx(Wo,{})})}),s.jsx(N,{path:"/play-win-quiz-app",element:s.jsx(H,{children:s.jsx(Go,{})})}),s.jsx(N,{path:"/opinion-quiz-app",element:s.jsx(H,{children:s.jsx(Ko,{})})}),s.jsx(N,{path:"/refer-earn-quiz-app",element:s.jsx(H,{children:s.jsx(Yo,{})})}),s.jsx(N,{path:"/terms-conditions",element:s.jsx(H,{children:s.jsx(qo,{})})}),s.jsx(N,{path:"/privacy-policy",element:s.jsx(H,{children:s.jsx(Bo,{})})}),s.jsx(N,{path:"/admin",element:s.jsx(Vl,{children:s.jsx(H,{children:s.jsx(Ol,{})})})}),s.jsx(N,{path:"/admin/users",element:s.jsx(ne,{to:"/admin?tab=users",replace:!0})}),s.jsx(N,{path:"/admin/leaderboards",element:s.jsx(ne,{to:"/admin?tab=leaderboards",replace:!0})}),s.jsx(N,{path:"/admin/redemptions",element:s.jsx(ne,{to:"/admin?tab=redemptions",replace:!0})}),s.jsx(N,{path:"/admin/reports",element:s.jsx(ne,{to:"/admin?tab=reports",replace:!0})}),s.jsx(N,{path:"*",element:s.jsx(ne,{to:"/",replace:!0})})]})})}),s.jsx($i,{}),s.jsx(El,{}),s.jsx(Cl,{}),r&&s.jsx(wl,{isOpen:n,onClose:()=>o(!1),isFirstTime:a})]})};const Bl=l.createContext(null),Ae={enabled:"qd_sound_enabled_v2",volume:"qd_sound_volume"};function Hl(){try{return typeof window=="undefined"?!1:(window.location.hash||window.location.pathname||"").toLowerCase().includes("/login")}catch(e){return!1}}function Zo(){try{if(typeof window=="undefined")return!1;const e=(window.location.hash||window.location.pathname||"").toLowerCase();return e.includes("/login")||e.includes("/profile")}catch(e){return!1}}const St={pop:{mix:[{type:"sine",freq:660,duration:50,attack:5e-4,decay:.035,sustain:0,release:.02,gainScale:.18},{type:"noise",duration:12,attack:4e-4,decay:.01,sustain:0,release:.006,filter:{type:"bandpass",frequency:3500,Q:8},gainScale:.08}]}};function Gl(){try{const e=(localStorage.getItem("qd_sound_style")||"pop").toLowerCase();return St[e]||St.pop}catch(e){return St.pop}}const Kl={click:()=>Gl(),success:[{type:"sine",freq:523.25,duration:80},{type:"sine",freq:659.25,duration:100}],error:{type:"sawtooth",freq:200,duration:180,attack:.001,decay:.12,sustain:0,release:.12},correct:[{type:"triangle",freq:650,duration:90},{type:"triangle",freq:800,duration:120}],wrong:[{type:"square",freq:220,duration:120},{type:"square",freq:180,duration:120}],notify:{type:"sine",freq:880,duration:120}};function Yl(){const e=l.useRef(null),t=l.useRef(null),r=l.useCallback(()=>{if(typeof window=="undefined")return null;const a=window.AudioContext||window.webkitAudioContext;if(!a)return null;if(!e.current)try{e.current=new a({latencyHint:"interactive"})}catch(c){e.current=new a}return e.current.state==="suspended"&&e.current.resume().catch(()=>{}),e.current},[]),n=l.useCallback((a,c=.5)=>{var p,h,b,y,w;const i=r();if(!i)return;const d=(p=a.attack)!=null?p:.005,u=(h=a.decay)!=null?h:.08,f=(b=a.sustain)!=null?b:0,m=(y=a.release)!=null?y:.08,v=Math.max(20,(w=a.duration)!=null?w:100),g=(d+u+m)*1e3+v,x=()=>{var _;const T=i.currentTime,S=i.createGain(),R=((_=a.startDelayMs)!=null?_:0)/1e3,P=T+R;let E;if(a.type==="noise"){if(!t.current){const C=Math.max(1,Math.floor(i.sampleRate*.15)),D=i.createBuffer(1,C,i.sampleRate),F=D.getChannelData(0);for(let z=0;z<C;z++)F[z]=(Math.random()*2-1)*.9;t.current=D}const A=i.createBufferSource();A.buffer=t.current,E=A}else{const A=i.createOscillator();A.type=a.type||"sine";const C=a.freq||440;try{A.frequency.setValueAtTime(C,P)}catch(D){}E=A}let j=E;if(a.filter&&typeof i.createBiquadFilter=="function"){const A=i.createBiquadFilter();if(A.type=a.filter.type||"bandpass",typeof a.filter.frequency=="number")try{A.frequency.setValueAtTime(a.filter.frequency,T)}catch(C){}if(typeof a.filter.Q=="number")try{A.Q.setValueAtTime(a.filter.Q,T)}catch(C){}if(j.connect(A),j=A,typeof a.filter.toFrequency=="number"&&typeof a.filter.toMs=="number"){const C=Math.max(0,(a.filter.toMs||0)/1e3);try{A.frequency.linearRampToValueAtTime(a.filter.toFrequency,P+C)}catch(D){}}}j.connect(S),S.gain.setValueAtTime(0,P);const M=Math.max(1e-4,c);S.gain.linearRampToValueAtTime(M,P+d),S.gain.linearRampToValueAtTime(M*(f||.25),P+d+u);const O=P+d+u+v/1e3;S.gain.linearRampToValueAtTime(1e-4,O+m),S.connect(i.destination),E.start&&E.start(P),E.stop&&E.stop(O+m+.02),"onended"in E&&(E.onended=()=>{try{E.disconnect&&E.disconnect(),S.disconnect()}catch(A){}})};if(i.state==="suspended")try{i.resume()}catch(T){}return x(),g},[r]);return{play:l.useCallback((a,c=.5)=>{if(Hl()||a==="click"&&Zo())return;let i=Kl[a];if(typeof i=="function")try{i=i()}catch(d){i=null}if(i){if(Array.isArray(i)){let d=0;i.forEach(u=>{setTimeout(()=>n(u,c),d),d+=(u.duration||100)+8});return}if(i&&Array.isArray(i.mix)){i.mix.forEach(d=>{const u=typeof d.gainScale=="number"?Math.max(0,d.gainScale):1;n(d,Math.min(1,c*u))});return}n(i,c)}},[n])}}function Ql({children:e}){const[t,r]=l.useState(!0),[n,o]=l.useState(.6),a=Yl();l.useEffect(()=>{try{const u=localStorage.getItem(Ae.enabled),f=localStorage.getItem(Ae.volume);u==null?(r(!0),localStorage.setItem(Ae.enabled,"1")):r(u==="1"),f!=null&&o(Math.min(1,Math.max(0,parseFloat(f))))}catch(u){}},[]),l.useEffect(()=>{try{localStorage.setItem(Ae.enabled,t?"1":"0")}catch(u){}},[t]),l.useEffect(()=>{try{localStorage.setItem(Ae.volume,String(n))}catch(u){}},[n]);const c=l.useCallback(u=>{if(t&&(a.play(u,n),u==="click"&&typeof navigator!="undefined"&&navigator.vibrate))try{navigator.vibrate(2)}catch(f){}},[t,a,n]),i=l.useCallback(u=>{try{localStorage.setItem("qd_sound_style",String(u))}catch(f){}},[]),d=l.useMemo(()=>({enabled:t,setEnabled:r,volume:n,setVolume:o,play:c,setClickStyle:i}),[t,n,c,i]);return l.useEffect(()=>{if(!t)return;const u=f=>{try{if(Zo()||f.button&&f.button!==0)return;const m=f.target instanceof Element?f.target:null;if(!m||m.closest("[data-mute-click-sound]"))return;const v=m.closest('button, [role="button"], a, input[type="button"], input[type="submit"], [data-click-sound]');if(!v||v.hasAttribute("disabled")||v.getAttribute("aria-disabled")==="true"||v.__qdClickPlayed)return;if(v.__qdClickPlayed=!0,setTimeout(()=>{try{delete v.__qdClickPlayed}catch(g){}},120),a.play("click",n),typeof navigator!="undefined"&&navigator.vibrate)try{navigator.vibrate(2)}catch(g){}}catch(m){}};return document.addEventListener("pointerdown",u,{capture:!0}),()=>document.removeEventListener("pointerdown",u,{capture:!0})},[t,a,n]),s.jsx(Bl.Provider,{value:d,children:e})}const Zl=()=>k(()=>import("./motion-f69b6c08.js"),["assets/motion-f69b6c08.js","assets/react-8a702e3e.js"]).then(e=>e.domAnimation),qr=document.getElementById("root");qr?_t.createRoot(qr).render(s.jsx(B.StrictMode,{children:s.jsx(Aa,{children:s.jsx(sn,{children:s.jsx(Ql,{children:s.jsx(ba,{features:Zl,strict:!0,children:s.jsx(Ul,{})})})})})})):console.error("Root element #root not found in index.html");typeof window!="undefined"&&(requestIdleCallback?requestIdleCallback(()=>lr()):setTimeout(()=>lr(),1500));export{Oe as B,ar as D,ns as H,zt as I,$t as L,wl as P,du as Q,rl as S,oe as a,lu as b,cu as c,ou as d,Uo as e,iu as f,uu as g,Ye as h,fu as i,s as j,q as k,_a as l,su as m,ue as n,nt as o,ot as p,at as q,tl as r,U as s,el as t,cn as u};

import{r,j as e,aA as x,s as m}from"./react-vendor-c284acb6.js";import{a as u,s as p}from"./index-e74e2d11.js";import"./vendor-3e030596.js";import"./supabase-97550265.js";import"./motion-b88ded6b.js";function v(){const{user:t}=u(),[a,d]=r.useState([]),[l,i]=r.useState(!0);return r.useEffect(()=>{if(!t)return;let s=!0;async function n(){i(!0);const{data:c,error:g}=await p.from("redemptions").select("*").eq("user_id",t.id).order("requested_at",{ascending:!1});s&&(d(c||[]),i(!1))}n();const o=setInterval(n,15e3);return()=>{s=!1,clearInterval(o)}},[t]),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[e.jsx(x,{className:"mr-2"})," My Redemptions"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Track your reward requests"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-md border border-gray-200/50 rounded-2xl p-4 shadow-lg",children:l?e.jsxs("div",{className:"py-12 flex items-center justify-center text-gray-600",children:[e.jsx(m,{className:"h-8 w-8 animate-spin text-indigo-500 mr-2"})," Loading..."]}):a.length===0?e.jsx("div",{className:"py-12 text-center text-gray-600",children:"No redemptions yet"}):e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("div",{className:"p-3 rounded-xl bg-white/70 border border-gray-200/50 flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-800",children:[s.reward_type,": ",s.reward_value]}),e.jsxs("div",{className:"text-gray-500",children:["Coins: ",s.coins_required]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})]},s.id))})})]})}export{v as default};

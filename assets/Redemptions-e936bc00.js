import{a as x,j as e,s as m}from"./index-ec0de953.js";import{r}from"./react-8a702e3e.js";import{_ as u,L as p}from"./icons-b32a7949.js";import"./supabase-4c1332f7.js";import"./router-bcacfb8d.js";import"./motion-511bde03.js";function N(){const{user:s}=x(),[a,d]=r.useState([]),[o,i]=r.useState(!0);return r.useEffect(()=>{if(!s)return;let t=!0;async function n(){i(!0);const{data:c,error:f}=await m.from("redemptions").select("*").eq("user_id",s.id).order("requested_at",{ascending:!1});t&&(d(c||[]),i(!1))}n();const l=setInterval(n,15e3);return()=>{t=!1,clearInterval(l)}},[s]),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[e.jsx(u,{className:"mr-2"})," My Redemptions"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Track your reward requests"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-md border border-gray-200/50 rounded-2xl p-4 shadow-lg",children:o?e.jsxs("div",{className:"py-12 flex items-center justify-center text-gray-600",children:[e.jsx(p,{className:"h-8 w-8 animate-spin text-indigo-500 mr-2"})," Loading..."]}):a.length===0?e.jsx("div",{className:"py-12 text-center text-gray-600",children:"No redemptions yet"}):e.jsx("div",{className:"space-y-2",children:a.map(t=>e.jsxs("div",{className:"p-3 rounded-xl bg-white/70 border border-gray-200/50 flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.reward_type,": ",t.reward_value]}),e.jsxs("div",{className:"text-gray-500",children:["Coins: ",t.coins_required]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]},t.id))})})]})}export{N as default};

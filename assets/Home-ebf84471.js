import{u as v,a as b,s as z,j as e,S as q}from"./index-a68bf874.js";import{r as d}from"./react-63c462fe.js";import{S as N}from"./SEO-9a6467d0.js";import{s as _}from"./smartJoinQuiz-76d08c08.js";import{a as k}from"./router-10fed1f4.js";import{b as Q,B as S,T as D,c as E}from"./icons-590232b1.js";import"./supabase-07ebd5d8.js";const A=[{title:"Opinion",slug:"opinion",icon:Q},{title:"G.K Knowledge",slug:"gk",icon:S},{title:"Sports",slug:"sports",icon:D},{title:"Movies",slug:"movies",icon:E}],j=[{question:"What is Quiz Dangal?",answer:"Quiz Dangal is India's daily quiz arena where you play opinion and knowledge rounds, earn coins, and climb leaderboards with friends."},{question:"How can new pages get indexed quickly?",answer:"Submit https://quizdangal.com/sitemap.xml in Google Search Console, request indexing for key URLs, and keep internal links pointing to every new landing page."},{question:"Does Quiz Dangal support the Google Play-style “Play & Win” format?",answer:"Yes. Our Play & Win quizzes run daily with live leaderboards, transparent scoring, and instant rewards for top performers."}],C={"@context":"https://schema.org","@type":"FAQPage",mainEntity:j.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))},I=[{"@context":"https://schema.org","@type":"Organization",name:"Quiz Dangal",alternateName:["QuizDangal","Quiz Dangal","QuizDangl"],url:"https://quizdangal.com/",logo:"https://quizdangal.com/android-chrome-512x512.png",sameAs:["https://www.instagram.com/quizdangal","https://www.facebook.com/profile.php?id=61576614092243","https://x.com/quizdangal"],contactPoint:[{"@type":"ContactPoint",contactType:"customer support",email:"support@quizdangal.com",availableLanguage:["Hindi","English"]}]},{"@context":"https://schema.org","@type":"WebSite",name:"Quiz Dangal",url:"https://quizdangal.com/",potentialAction:{"@type":"SearchAction",target:"https://quizdangal.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},{"@context":"https://schema.org","@type":"WebApplication",name:"Quiz Dangal",url:"https://quizdangal.com/",applicationCategory:"Game",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR"}},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Play & Win Quiz App",url:"https://quizdangal.com/play-win-quiz-app/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Opinion Quiz App",url:"https://quizdangal.com/opinion-quiz-app/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Leaderboards",url:"https://quizdangal.com/leaderboards/"},{"@context":"https://schema.org","@type":"SiteNavigationElement",name:"Refer & Earn",url:"https://quizdangal.com/refer-earn-quiz-app/"},C],T=({tile:n,quizzes:r,index:c,navigateTo:g})=>{const o=Date.now();r.filter(i=>(i.category||"").toLowerCase()===n.slug.toLowerCase()).filter(i=>{const s=i.start_time?new Date(i.start_time).getTime():0,l=i.end_time?new Date(i.end_time).getTime():0,f=s&&l&&o>=s&&o<l,t=s&&o<s;return f||t}).sort((i,s)=>new Date(i.start_time||i.end_time||0)-new Date(s.start_time||s.end_time||0));const h=n.icon,m=["neon-orange","neon-purple","neon-teal","neon-pink"],u="PLAY",x=`${c*80}ms`;return e.jsx("button",{type:"button",onClick:()=>g(n.slug),className:`neon-card ${m[c%m.length]} group aspect-square w-full rounded-xl focus:outline-none transform-gpu transition-transform hover:scale-[1.02] hover:shadow-xl relative animate-fade-scale`,style:{borderRadius:"0.75rem","--fade-scale-delay":x},"aria-label":`${n.title} - Play`,children:e.jsx("div",{className:"neon-card-content select-none flex items-center justify-center",children:e.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:[e.jsx(h,{className:"w-8 h-8 text-white drop-shadow"}),e.jsx("h3",{className:"text-base font-extrabold leading-tight text-white text-shadow-sm text-center",children:n.title}),e.jsx("span",{className:"play-pill group-hover:shadow-lg group-hover:brightness-110",children:u})]})})})},H=()=>{const{toast:n}=v(),r=k(),{user:c}=b(),[g,o]=d.useState([]),[h,m]=d.useState(!0),[u,x]=d.useState({open:!1,day:0,coins:0}),[i,s]=d.useState(null),l=d.useCallback(async()=>{try{const{data:t,error:a}=await z.from("quizzes").select("id,title,category,start_time,end_time,status,prize_pool,prizes,prize_type").order("start_time",{ascending:!0});if(a)throw a;o(t||[])}catch(t){console.error(t),n({title:"Error",description:"Could not fetch quizzes.",variant:"destructive"}),o([])}finally{m(!1)}},[n]);d.useEffect(()=>{let t=!1,a=null,p=null,y=null;const w=async()=>{t||(await l(),!t&&(y=window.setInterval(l,6e4)))};return typeof window!="undefined"&&"requestIdleCallback"in window?a=window.requestIdleCallback(w,{timeout:1200}):p=window.setTimeout(w,120),()=>{t=!0,y&&clearInterval(y),p&&clearTimeout(p),a!==null&&typeof window!="undefined"&&"cancelIdleCallback"in window&&window.cancelIdleCallback(a)}},[l]);const f=async t=>{if(!(!t||i===t.id)){if(!c){n({title:"Login required",description:"Please sign in to join the quiz.",variant:"destructive"}),r("/login");return}s(t.id);try{const a=await _({supabase:z,quiz:t,user:c});if(a.status==="error")throw a.error;a.status==="already"?(n({title:"Already Joined",description:"You are in this quiz."}),r(`/quiz/${t.id}`)):a.status==="joined"?(n({title:"Joined!",description:"Redirecting you to the quiz."}),r(`/quiz/${t.id}`)):a.status==="pre_joined"?n({title:"Pre-joined!",description:"We will remind you 1 minute before start."}):a.status==="scheduled_retry"&&n({title:"Pre-joined!",description:"Auto joining at start boundary."})}catch(a){n({title:"Error",description:(a==null?void 0:a.message)||"Could not join quiz.",variant:"destructive"})}finally{s(null)}}};return e.jsxs("div",{className:"relative pt-1 sm:pt-12 md:pt-14",children:[e.jsx(N,{title:"Quiz Dangal – Play Quiz & Win Rewards | Opinion, GK, Sports, Movies",description:"Quiz Dangal is India’s play-and-win quiz arena. Take opinion and GK quizzes daily, grow streaks, invite friends, and redeem coins for rewards.",canonical:"https://quizdangal.com/",keywords:["Quiz Dangal","quizdangal","quiz app","play quiz and win","opinion quiz","daily quiz india","refer and earn quiz","win rewards","leaderboards","online quiz contest"],alternateLocales:["hi_IN","en_US"],jsonLd:I}),e.jsx("div",{className:"relative z-10 min-h-[calc(100vh-12rem)] flex items-center justify-center px-4 py-2",children:e.jsxs("div",{className:"w-full max-w-[420px]",children:[e.jsxs("div",{className:"text-center mb-2 animate-fade-up",style:{"--fade-delay":"60ms"},children:[e.jsxs("div",{className:"hidden",children:[e.jsx("span",{className:"inline-flex items-center justify-center px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.2em] text-indigo-200/80 bg-indigo-500/15 border border-indigo-400/30 rounded-full",children:"Quiz Dangal Official"}),e.jsx("h1",{className:"mt-2 text-xl sm:text-2xl font-bold tracking-tight text-white",children:e.jsx("span",{className:"italic",children:"Brain Games. Real Gains."})}),e.jsx("p",{className:"text-sm text-slate-200 mt-1",children:e.jsx("span",{className:"italic",children:"Compete, earn, repeat — shine every round."})}),e.jsxs("ul",{className:"mt-3 text-[12px] text-slate-300/90 space-y-1 text-left",children:[e.jsx("li",{children:"• Transparent scoring with instant leaderboards"}),e.jsx("li",{children:"• Refer & earn bonuses when friends join your squad"}),e.jsx("li",{children:"• Daily streaks, reminders, and progressive rewards"})]}),e.jsx("div",{className:"mx-auto mt-2 h-[2px] w-24 rounded-full bg-gradient-to-r from-indigo-400/60 via-fuchsia-400/60 to-pink-400/60"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold leading-snug text-white",children:e.jsx("span",{className:"italic",children:"Brain Games. Real Gains."})}),e.jsx("p",{className:"mt-0 text-sm sm:text-base font-medium text-slate-200",children:e.jsx("span",{className:"italic",children:"Compete, earn, repeat — shine every round."})})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h?Array.from({length:4}).map((t,a)=>e.jsx("div",{className:"aspect-square w-full rounded-xl bg-slate-800/60 border border-slate-700/60 animate-pulse"},a)):A.map((t,a)=>e.jsx(T,{tile:t,quizzes:g,onJoin:f,index:a,joiningId:i,navigateTo:p=>r(`/category/${p}/`)},t.slug))}),e.jsxs("div",{className:"hidden mt-6 text-left bg-slate-900/60 border border-slate-700/60 rounded-xl p-4 space-y-3",children:[e.jsx("h2",{className:"text-sm font-semibold text-white tracking-wide uppercase",children:"Quiz Dangal FAQs"}),j.map(t=>e.jsxs("div",{children:[e.jsx("p",{className:"text-[13px] font-semibold text-indigo-200/90",children:t.question}),e.jsx("p",{className:"text-[12px] text-slate-300/85 mt-1",children:t.answer})]},t.question))]})]})}),e.jsx(q,{open:u.open,day:u.day,coins:u.coins,onClose:()=>x(t=>({...t,open:!1}))})]})};export{H as default};
